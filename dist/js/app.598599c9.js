(function(t){function e(e){for(var r,o,c=e[0],i=e[1],l=e[2],d=0,h=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,c=1;c<a.length;c++){var i=a[c];0!==n[i]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},s=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("5530"),n=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("b959")),s=a.n(n),o=a("2b0e"),c=a("8c4f"),i=a("2f62"),l=a("f309");o["a"].use(l["a"]);var u=new l["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#3D95CE",accent:"#29648E",warning:"#E78227",error:"#E72732",background:"#F5F5F5"}}}}),d=(a("99af"),a("b0c0"),a("ac1f"),a("1276"),a("260b")),h=(a("e71f"),a("ea7b"),a("66ce"),a("8934"),{apiKey:Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_FIREBASE_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_FIREBASE_DATABASE_URL,projectId:Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_FIREBASE_APP_ID});d["a"].initializeApp(h);var p,v,m=d["a"].firestore(),f=d["a"].database(),g=d["a"].functions(),b=d["a"].auth,k={install:function(t,e){var a=e.store,r=function(){return d["a"].auth().currentUser};t.prototype.db={contractStorage:function(t){var e=a.getters.currentWorkspace.name;if(r()&&e)return f.ref("/users/".concat(r().uid,"/workspaces/").concat(e,"/contracts/").concat(t))},collection:function(t){var e=a.getters.currentWorkspace.name;if(r()&&e)return m.collection("users").doc(r().uid).collection("workspaces").doc(e).collection(t)},settings:function(){var t=a.getters.currentWorkspace.name;if(r()&&t)return m.collection("users").doc(r().uid).collection("workspaces").doc(t).withConverter({fromFirestore:function(t,e){var a=t.data(e);return a.settings?a.settings:{}}})},advancedOptions:function(){var t=a.getters.currentWorkspace.name;if(r()&&t)return m.collection("users").doc(r().uid).collection("workspaces").doc(t).withConverter({fromFirestore:function(t,e){var a=t.data(e);return a.advancedOptions?a.advancedOptions:{tracing:"disabled"}}})},currentUser:function(){if(r())return m.collection("users").doc(r().uid)},workspaces:function(){if(r())return m.collection("users").doc(r().uid).collection("workspaces").withConverter({fromFirestore:function(t,e){return{id:t.id,rpcServer:t.data(e).rpcServer}}})},getWorkspace:function(t){if(r()&&t)return m.collection("users").doc(r().uid).collection("workspaces").doc(t).withConverter({fromFirestore:function(e,a){return Object.defineProperty(e.data(a),"name",{value:t})}})},createUser:function(t){return!!t&&m.collection("users").doc(t).set({currentWorkspace:""})},contractSerializer:function(t){var e=t.data(),a=t.data().watchedPaths?JSON.parse(t.data().watchedPaths):[];return Object.defineProperty(e,"watchedPaths",{value:a}),Object.defineProperty(e,"dependencies",{value:{}}),e},functions:g}}},_=b,y=g,w=(d["a"].firestore.FieldValue,a("d81d"),a("4fad"),a("d3b7"),a("07ac"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d"),a("bf19"),a("2909")),x=(a("96cf"),a("1da1")),C=(a("4160"),a("159b"),a("ade3")),S=a("d4ec"),O=a("bee2"),A=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(Object(S["a"])(this,t),Object.defineProperty(this,"_variable",{value:e,enumerable:!1}),this.name=this.getVariableName(),e.value.type.typeClass){case"address":a[this.name]=e.value.value.asAddress.toString();break;case"uint":a[this.name]=e.value.value.asBN.toString();break;case"string":a[this.name]=e.value.value.asString;break;case"mapping":a.name||(a[this.name]={});for(var r=0;r<e.value.value.length;r++)new t(e.value.value[r],a[this.name]);break;case"array":a[this.name]=[];for(var n=0;n<e.value.value.length;n++)a[this.name].push(this.buildArrayChild(e.value.value[n]));break}return a}return Object(O["a"])(t,[{key:"getVariableName",value:function(){var t="N/A";if(this._variable.name&&(t=this._variable.name),this._variable.key)switch(this._variable.key.type.typeClass){case"address":t=this._variable.key.value.asAddress;break;case"uint":t=this._variable.key.value.asBN;break}return t}},{key:"buildArrayChild",value:function(t){var e="",a=t.type?t:t.value;switch(a.type.typeClass){case"uint":e=a.value.asBN.toString();break;case"address":e=a.value.asAddress;break;case"struct":e={};for(var r=0;r<a.value.length;r++)e[a.value[r].name]=this.buildArrayChild(a.value[r]);break}return e}}]),t}(),T=function(){function t(e,a){switch(Object(S["a"])(this,t),this.path=a,this.children=null,e.key.type.typeClass){case"address":this.label=e.key.value.asAddress,this.key=e.key.value.asAddress;break;case"uint":this.label=e.key.value.asBN,this.key=e.key.value.asBN;break}switch(this.path.push(this.key),e.value.type.typeClass){case"mapping":this.label+=":",this.children=[];for(var r=0;r<e.value.value.length;r++)this.children.push(new t(e.value.value[r],Object(w["a"])(this.path)));break;default:this.label+=";";break}}return Object(O["a"])(t,[{key:"getWatchedPaths",value:function(){var t=[];if(this.children&&this.children.length)for(var e=0;e<this.children.length;e++)t.push(this.children[e].getWatchedPaths());else t.push.apply(t,Object(w["a"])(this.path));return t}}]),t}(),E=function(){function t(e,a){switch(Object(S["a"])(this,t),this.path=[e.name],this.label="",this.key=e.name,this.children=null,this.index=a,e.value.type.typeClass){case"uint":this.label="".concat(e.value.type.typeHint," ").concat(e.name,";");break;case"string":this.label="".concat(e.value.type.typeHint," ").concat(e.name,";");break;case"mapping":this.label="".concat(this.getLabelForMapping(e.value.type)," ").concat(e.name,":"),this.children=[];for(var r=0;r<e.value.value.length;r++)this.children.push(new T(e.value.value[r],Object(w["a"])(this.path)));break;case"array":var n=e.value.type.baseType;this.label="".concat(n.typeName?n.typeName:n.typeHint,"[ ] ").concat(e.name,";");break}}return Object(O["a"])(t,[{key:"getLabelForMapping",value:function(t){var e="mapping(";return e+="".concat(t.keyType.typeClass," => "),"mapping"==t.valueType.typeClass?e+=this.getLabelForMapping(t.valueType):e+=t.valueType.typeHint,e+=")",e}},{key:"getWatchedPaths",value:function(){var t=[];if(this.children&&this.children.length)for(var e=0;e<this.children.length;e++)t.push(this.children[e].getWatchedPaths());else t.push.apply(t,Object(w["a"])(this.path));return t}}]),t}(),V=(p=function(){function t(e){Object(S["a"])(this,t),Object(C["a"])(this,"nodes",[]),Object(C["a"])(this,"index",0),this.variables=e,e.forEach(this.addStructureNode,this)}return Object(O["a"])(t,[{key:"addStructureNode",value:function(t){var e=new E(t,this.index);this.index=e.index++,this.nodes.push(e)}}]),t}(),p),N=(v=function(){function t(e){Object(S["a"])(this,t),Object(C["a"])(this,"structure",void 0),Object(C["a"])(this,"data",void 0),Object(C["a"])(this,"instanceDecoder",void 0),this.instanceDecoder=e,this.data={}}return Object(O["a"])(t,[{key:"toJSON",value:function(){return{data:this.data,structure:this.structure}}},{key:"buildStructure",value:function(){var t=this;return new Promise((function(e,a){t.instanceDecoder.variables().then((function(a){t.structure=new V(a),e()})).catch((function(t){console.log(t),"ContractAllocationFailedError"==t.name?a({message:"In order to use this feature, you need to compile all your contracts, including dependencies, at the same time. For Truffle you can pass the --all flag, for Hardhat pass the --force flag. Then, redeploy the newly compiled contract, and try accessing the storage again at the new address."}):console.log(t.message)}))}))}},{key:"decodeData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"latest";return new Promise((function(a){var r={};t.instanceDecoder.variables(e).then((function(e){e.forEach((function(t){return Object.assign(r,new A(t))})),t.data=r,a(r)})).catch(console.log)}))}},{key:"watchNewKey",value:function(t,e){var a;return(a=this.instanceDecoder).watchMappingKey.apply(a,Object(w["a"])(t.path).concat([e]))}},{key:"watchPath",value:function(t){var e;if("string"==typeof t[0])return(e=this.instanceDecoder).watchMappingKey.apply(e,Object(w["a"])(t));for(var a=0;a<t.length;a++)this.watchPath(t[a])}},{key:"watch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(a,r){Promise.all(e.map((function(e){return t.watchPath(e)}))).then((function(){return t.buildStructure().then(a)})).catch(r)}))}},{key:"watchedPaths",get:function(){var t=[];return this.structure.nodes.forEach((function(e){return t.push(e.getWatchedPaths())})),t}}]),t}(),v),j=N,L=(a("4de4"),a("c1f9"),a("2ca0"),a("3835")),I=(a("99e5"),function(t){return Object.fromEntries(Object.entries(t).filter((function(t){var e=Object(L["a"])(t,2),a=e[1];return null!=a})))}),W=(a("c975"),a("a15b"),a("fb6a"),a("b85c")),P=a("c030"),M=function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,a,r){var n,s,o,c,i,l,u,d,h,p,v,m,f,g,b,k,_,y,x,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=["CALL","CALLCODE","DELEGATECALL","STATICCALL","CREATE","CREATE2"],s=a.structLogs.filter((function(t){return n.indexOf(t.op)>-1||1507==t.pc})),o=[],c=Object(W["a"])(s),t.prev=4,c.s();case 6:if((i=c.n()).done){t.next=36;break}l=i.value,t.t0=l.op,t.next="CALL"===t.t0||"CALLCODE"===t.t0||"DELEGATECALL"===t.t0||"STATICCALL"===t.t0?11:"CREATE"===t.t0||"CREATE2"===t.t0?20:34;break;case 11:return u=2*parseInt(l.stack[l.stack.length-4],16),d=2*parseInt(l.stack[l.stack.length-5],16),h="0x".concat(l.memory.join("").slice(u,u+d)),p="0x".concat(l.stack[l.stack.length-2].slice(-40)).toLowerCase(),t.next=17,r.getCode(p);case 17:return v=t.sent,o.push({op:l.op,address:p,input:h,contractHashedBytecode:P.utils.keccak256(v)}),t.abrupt("break",34);case 20:return m=Object(w["a"])(l.stack),m.pop(),f=2*parseInt(m.pop().valueOf(),16),g=2*parseInt(m.pop().valueOf(),16),b="0x".concat(m.pop()),k="0x".concat(l.memory.join("").slice(f,f+g)),_=P.utils.keccak256(k),y=P.utils.getCreate2Address(e,b,_),t.next=30,r.getCode(y);case 30:return x=t.sent,C=P.utils.keccak256(x),o.push({op:l.op,address:y,contractHashedBytecode:C}),t.abrupt("break",34);case 34:t.next=6;break;case 36:t.next=41;break;case 38:t.prev=38,t.t1=t["catch"](4),c.e(t.t1);case 41:return t.prev=41,c.f(),t.finish(41);case 44:return t.abrupt("return",o);case 45:case"end":return t.stop()}}),t,null,[[4,38,41,44]])})));return function(e,a,r){return t.apply(this,arguments)}}(),R=a("c030"),D=a("99e5"),U=a("b28a"),B={_getDependenciesArtifact:function(t){return t.dependencies?Object.entries(t.dependencies).map((function(t){return JSON.parse(t[1].artifact)})):[]},_buildStructure:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,s,o,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new D(B._getWeb3Provider(a)),n=JSON.parse(e.artifact),s=e.address,o=B._getDependenciesArtifact(e),t.next=6,U.forArtifactAt(n,r,s,o);case 6:return c=t.sent,i=new j(c),t.next=10,i.buildStructure();case 10:return t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),_getWeb3Provider:function(t){var e,a=new URL(t);return"http:"==a.protocol||"https:"==a.protocol?e=D.providers.HttpProvider:"ws:"!=a.protocol&&"wss:"!=a.protocol||(e=D.providers.WebsocketProvider),new e(t)},_getProvider:function(t){var e,a=new URL(t),r=R.providers.WebSocketProvider;return e=""!=a.username&&""!=a.password?{url:"".concat(a.origin).concat(a.pathName?a.pathName:""),user:a.username,password:a.password}:a.href,"http:"==a.protocol||"https:"==a.protocol?r=R.providers.JsonRpcProvider:"ws:"!=a.protocol&&"wss:"!=a.protocol||(r=R.providers.WebSocketProvider),new r(e)},getStructure:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B._buildStructure(e.contract,e.rpcServer,e.dependenciesArtifact);case 3:return a=t.sent,t.next=6,a.watch(e.contract.watchedPaths);case 6:return t.abrupt("return",a.toJSON());case 9:throw t.prev=9,t.t0=t["catch"](0),console.log(t.t0),r=t.t0.reason||t.t0.message||"Can't connect to the server",{reason:r};case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}(),getAccounts:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=new B._getProvider(e.rpcServer),t.next=4,a.listAccounts();case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t["catch"](0),console.log(t.t0),r=t.t0.reason||t.t0.message||"Can't connect to the server",{reason:r};case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),getAccountBalance:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=new B._getProvider(e.rpcServer),t.next=4,a.getBalance(e.account);case 4:return r=t.sent,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t["catch"](0),console.log(t.t0),n=t.t0.reason||t.t0.message||"Can't connect to the server",{reason:n};case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),decodeData:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B._buildStructure(e.contract,e.rpcServer);case 3:return a=t.sent,t.next=6,a.watch(e.contract.watchedPaths);case 6:return t.next=8,a.decodeData(e.blockNumber);case 8:return r=t.sent,t.abrupt("return",r);case 12:throw t.prev=12,t.t0=t["catch"](0),console.log(t.t0),n=t.t0.reason||t.t0.message||"Can't connect to the server",{reason:n};case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}(),initRpcServer:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,s,o,c,i,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=new B._getProvider(e.rpcServer),r=new D(B._getWeb3Provider(e.rpcServer)),t.next=5,r.eth.net.getId();case 5:return n=t.sent,t.next=8,a.getBlockNumber();case 8:return s=t.sent,t.next=11,a.getBlock(s);case 11:return o=t.sent,t.next=14,a.listAccounts();case 14:return c=t.sent,i=o.gasLimit.toString(),l={rpcServer:e.rpcServer,networkId:n,settings:{gasLimit:i}},c.length&&(l.settings.defaultAccount=c[0]),t.abrupt("return",l);case 21:throw t.prev=21,t.t0=t["catch"](0),console.log(t.t0),u=t.t0.body?JSON.parse(t.t0.body).error.message:t.t0.reason||t.t0.message||"Can't connect to the server",{reason:u};case 26:case"end":return t.stop()}}),t,null,[[0,21]])})));function e(e){return t.apply(this,arguments)}return e}(),callContractReadMethod:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=B._getProvider(e.rpcServer),s=I({gasLimit:e.options.gasLimit,gasPrice:e.options.gasPrice}),n=e.options.pkey?new R.Wallet(e.options.pkey,r):r.getSigner(e.options.from),o=new R.Contract(e.contract.address,e.contract.abi,n),t.next=7,(a=o.functions)[e.method].apply(a,Object(w["a"])(Object.values(e.params)).concat([s]));case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t["catch"](0),console.log(t.t0),c=t.t0.body?JSON.parse(t.t0.body).error.message:t.t0.reason||t.t0.message||"Can't connect to the server",{reason:c};case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}(),callContractWriteMethod:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,s,o,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=B._getProvider(e.rpcServer),n=I({gasLimit:e.options.gasLimit,gasPrice:e.options.gasPrice,value:e.options.value}),r=e.options.privateKey?new R.Wallet(e.options.privateKey,a):a.getSigner(e.options.from),s=new R.Contract(e.contract.address,e.contract.abi,r),t.next=7,s[e.method].apply(s,Object(w["a"])(Object.values(e.params)).concat([n]));case 7:if(o=t.sent,c=null,!e.shouldTrace){t.next=13;break}return t.next=12,B.traceTransaction(e.rpcServer,o.hash);case 12:c=t.sent;case 13:return t.abrupt("return",I({pendingTx:o,trace:c}));case 16:if(t.prev=16,t.t0=t["catch"](0),console.log(t.t0),i=t.t0.body?JSON.parse(t.t0.body).error.message:t.t0.reason||t.t0.message||"Can't connect to the server","invalid hexlify value"!=i){t.next=24;break}throw{reason:"Invalid private key format for ".concat(e.options.from,'. Please correct it in the "Accounts" page')};case 24:throw{reason:i};case 25:case"end":return t.stop()}}),t,null,[[0,16]])})));function e(e){return t.apply(this,arguments)}return e}(),traceTransaction:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=new B._getProvider(e),t.next=4,r.getTransaction(a);case 4:return n=t.sent,t.next=7,r.send("debug_traceTransaction",[a,{}]).catch((function(){return null}));case 7:if(s=t.sent,!s){t.next=14;break}return t.next=11,M(n.to,s,r);case 11:return t.abrupt("return",t.sent);case 14:return t.abrupt("return",null);case 15:t.next=22;break;case 17:throw t.prev=17,t.t0=t["catch"](0),console.log(t.t0),o=t.t0.body?JSON.parse(t.t0.body).error.message:t.t0.reason||t.t0.message||"Can't connect to the server",{reason:o};case 22:case"end":return t.stop()}}),t,null,[[0,17]])})));function e(e,a){return t.apply(this,arguments)}return e}(),impersonateAccount:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=new B._getProvider(e.rpcServer),t.next=4,a.send("hardhat_impersonateAccount",[e.accountAddress]).catch(console.log);case 4:if(r=t.sent,!r){t.next=7;break}return t.abrupt("return",!0);case 7:return t.next=9,a.send("evm_unlockUnknownAccount",[e.accountAddress]).catch(console.log);case 9:return n=t.sent,t.abrupt("return",n);case 13:throw t.prev=13,t.t0=t["catch"](0),console.log(t.t0),s=t.t0.body?JSON.parse(t.t0.body).error.message:t.t0.reason||t.t0.message||"Can't connect to the server",{reason:s};case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));function e(e){return t.apply(this,arguments)}return e}()},$={install:function(t,e){var a=e.store,r=function(){return a.getters.currentWorkspace.localNetwork},n=function(){return a.getters.currentWorkspace.rpcServer};t.prototype.server={syncContractData:function(t,e,a,r){return y.httpsCallable("syncContractData")({workspace:t,address:e,name:a,abi:r})},syncTrace:function(t,e,a){return y.httpsCallable("syncTrace")({workspace:t,txHash:e,steps:a})},getAccount:function(t,e){return y.httpsCallable("getAccount")({workspace:t,account:e})},storeAccountPrivateKey:function(t,e,a){return y.httpsCallable("setPrivateKey")({workspace:t,account:e,privateKey:a})},importContract:function(t,e,a,r){return y.httpsCallable("importContract")({workspace:t,abi:e,address:a,name:r})},getWebhookToken:function(t){return y.httpsCallable("getWebhookToken")({workspace:t})},enableAlchemyWebhook:function(t){return y.httpsCallable("enableAlchemyWebhook")({workspace:t})},disableAlchemyWebhook:function(t){return y.httpsCallable("disableAlchemyWebhook")({workspace:t})},getProvider:function(t){return B._getProvider(t)},searchForLocalChains:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e=["http://127.0.0.1:7545","http://127.0.0.1:8545","http://127.0.0.1:9545","ws://127.0.0.1:7545","ws://127.0.0.1:8545","ws://127.0.0.1:9545"],a=[],r=0;case 4:if(!(r<e.length)){t.next=13;break}return n=new D(B._getWeb3Provider(e[r])),t.next=8,n.eth.net.getId().catch((function(){}));case 8:s=t.sent,s&&a.push(e[r]);case 10:r++,t.next=4;break;case 13:return t.abrupt("return",a);case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));function e(){return t.apply(this,arguments)}return e}(),impersonateAccount:function(t,e){return r()?new Promise((function(a,r){B.impersonateAccount({rpcServer:t,accountAddress:e}).then(a).catch(r)})):new Promise((function(t,a){y.httpsCallable("impersonateAccount")({accountAddress:e}).then((function(e){return t(e.data)})).catch(a)}))},getAccounts:function(){return r()?new Promise((function(t,e){B.getAccounts({rpcServer:n()}).then(t).catch(e)})):new Promise((function(t,e){y.httpsCallable("getAccounts")({rpcServer:n()}).then((function(e){return t(e.data)})).catch(e)}))},getAccountBalance:function(t){return r()?new Promise((function(e,a){B.getAccountBalance({rpcServer:n(),account:t}).then(e).catch(a)})):new Promise((function(e,a){y.httpsCallable("getAccountBalance")({rpcServer:n(),account:t}).then((function(t){return e(t.data)})).catch(a)}))},initRpcServer:function(t,e){return new Promise(e?function(e,a){B.initRpcServer({rpcServer:t}).then(e).catch(a)}:function(e,a){y.httpsCallable("initRpcServer")({rpcServer:t}).then((function(t){return e(t.data)})).catch(a)})},callContractReadMethod:function(t,e,a,n,s){return r()?new Promise((function(r,o){B.callContractReadMethod({contract:t,method:e,options:a,params:n,rpcServer:s}).then(r).catch(o)})):new Promise((function(r,o){y.httpsCallable("callContractReadMethod")({contract:t,method:e,options:a,params:n,rpcServer:s}).then((function(t){return r(t.data)})).catch(o)}))},callContractWriteMethod:function(t,e,a,n,s,o){return r()?new Promise((function(r,c){B.callContractWriteMethod({contract:t,method:e,options:a,params:n,rpcServer:s,shouldTrace:o}).then(r).catch(c)})):new Promise((function(r,c){y.httpsCallable("callContractWriteMethod")({contract:t,method:e,options:a,params:n,rpcServer:s,shouldTrace:o}).then((function(t){return r(t.data)})).catch(c)}))},getStructure:function(t,e,a){return r()?new Promise((function(r,n){B.getStructure({contract:t,rpcServer:e,dependenciesArtifact:a}).then(r).catch(n)})):new Promise((function(r,n){y.httpsCallable("getStructure")({contract:t,rpcServer:e,dependenciesArtifact:a}).then((function(t){return r(t.data)})).catch(n)}))},decodeData:function(t,e,a){return r()?new Promise((function(r,n){B.decodeData({contract:t,rpcServer:e,blockNumber:a}).then(r).catch(n)})):new Promise((function(r,n){y.httpsCallable("decodeData")({contract:t,rpcServer:e,blockNumber:a}).then((function(t){return r(t.data)})).catch(n)}))}}}},F=a("0ff2"),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[t.userLoggedIn?a("v-navigation-drawer",{attrs:{app:"",permanent:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.logOut()}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"red--text text--darken-3"},[t._v("mdi-logout")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"red--text text--darken-3"},[t._v("Log Out")])],1)],1)],1)]},proxy:!0}],null,!1,3698387545)},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"logo"},[t._v("Ethernal")]),a("v-list-item-subtitle",[t._v("Beta - "+t._s(t.version))])],1)],1),a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-item",{attrs:{link:"",to:"/accounts"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-multiple")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Accounts")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/blocks"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-view-dashboard")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Blocks")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/transactions"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-arrow-left-right")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Transactions")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/contracts"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-file")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Contracts")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/settings"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-cog")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Settings")])],1)],1)],1)],1):t._e(),a("Onboarding-Modal",{ref:"onboardingModal"}),t.userLoggedIn?a("v-app-bar",{attrs:{app:"",dense:"",fixed:"",flat:"",color:"grey lighten-3"}},[a(t.appBarComponent,{tag:"component"})],1):t._e(),a("v-main",[a(t.routerComponent,{tag:"component"})],1)],1)},K=[],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"grey lighten-3",attrs:{dense:"",flat:""}},[t._v(" Workspace: "+t._s(t.currentWorkspace.name)+" "),a("v-divider",{staticClass:"mx-2",attrs:{vertical:"",inset:""}}),t._v(" "+t._s(t.currentWorkspace.rpcServer)+" "),a("v-spacer"),a("a",{attrs:{href:"https://doc.tryethernal.com",target:"_blank"}},[t._v("Documentation")]),a("v-divider",{staticClass:"mx-2",attrs:{vertical:"",inset:""}}),a("a",{attrs:{href:"https://discord.gg/jEAprf45jj",target:"_blank"}},[t._v("Discord")])],1)},J=[],G=new o["a"],Y=a("c030"),z=o["a"].extend({name:"RpcConnector",created:function(){var t=this;_().currentUser&&G.$on("syncAccount",this.syncAccount),this.server.getAccounts().then((function(e){return e.forEach(t.syncAccount)}))},methods:{syncAccount:function(t){var e=this;this.server.getAccountBalance(t).then((function(a){return e.db.collection("accounts").doc(t).set({balance:Y.BigNumber.from(a).toString()},{merge:!0})}))}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))}),Q=z,X=a("2877"),Z=a("6544"),tt=a.n(Z),et=a("ce7e"),at=a("2fa4"),rt=a("71d9"),nt=Object(X["a"])(Q,q,J,!1,null,null,null),st=nt.exports;tt()(nt,{VDivider:et["a"],VSpacer:at["a"],VToolbar:rt["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600",persistent:!0},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-stepper",{attrs:{vertical:""},model:{value:t.stepperIndex,callback:function(e){t.stepperIndex=e},expression:"stepperIndex"}},[a("h3",{staticClass:"ml-6 mt-4"},[t._v("Ethernal Onboarding")]),a("v-stepper-step",{attrs:{step:"1",complete:t.stepperIndex>1}},[t._v(" Create a new workspace "),a("small",{directives:[{name:"show",rawName:"v-show",value:t.stepperIndex>1,expression:"stepperIndex > 1"}]},[t._v(t._s(t.currentWorkspace.name)+" - "+t._s(t.currentWorkspace.rpcServer))])]),a("v-stepper-content",{attrs:{step:"1"}},[a("span",{staticClass:"text-body-2"},[t._v("Workspaces allow you to separate your different projects/server. You'll be able to add more and switch between them later.")]),a("Create-Workspace",{on:{workspaceCreated:t.onWorkspaceCreated}})],1),a("v-stepper-step",{attrs:{step:"2",complete:t.stepperIndex>2}},[t._v("Set up the CLI")]),a("v-stepper-content",{attrs:{step:"2"}},[a("p",[t._v(" Ethernal uses a "),a("a",{attrs:{href:"https://www.npmjs.com/package/ethernal",target:"_blank"}},[t._v("CLI")]),t._v(" to synchronize your transactions and display them on your dashboard ("),a("a",{attrs:{href:"https://doc.tryethernal.com",target:"_blank"}},[t._v("doc")]),t._v("). ")]),a("p",[t._v(" Install it with "),a("code",[t._v("npm install ethernal -g")])]),a("p",[t._v(" And sign-in with "),a("code",[t._v("ethernal login")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.stepperIndex=3}}},[t._v("Next")])],1)],1),a("v-stepper-step",{attrs:{step:"3",complete:t.stepperIndex>3}},[t._v("Listen for transactions")]),a("v-stepper-content",{attrs:{step:"3"}},[a("p",[t._v(" Run "),a("code",[t._v("ethernal listen")]),t._v(" to listen to transactions ("),a("a",{attrs:{href:"https://doc.tryethernal.com",target:"_blank"}},[t._v("doc")]),t._v("). ")]),t.transactions.length?a("p",[t._v(" Transaction received, your dashboard is ready! ")]):a("p",[t._v(" Waiting for your first transaction... "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"primary"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.stepperIndex=2}}},[t._v("Back")]),a("v-btn",{attrs:{outlined:!t.transactions.length,color:"primary",disabled:!t.transactions.length},on:{click:function(e){return t.goToDashboard()}}},[t._v("Go to Dashboard")])],1)],1)],1)],1)},ct=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],attrs:{dense:"",text:"",type:"error"},domProps:{innerHTML:t._s(t.errorMessage)}}),a("div",{staticClass:"mb-2"},[t.isUsingBrave?a("v-alert",{staticClass:"my-2",attrs:{type:"warning"}},[t._v(" By default, Brave is preventing websites from making requests to localhost. This will prevent you from connecting to a local blockchain. If you want to do so, you'll need to "),a("a",{attrs:{href:"https://support.brave.com/hc/en-us/articles/360023646212-How-do-I-configure-global-and-site-specific-Shields-settings-",target:"_blank"}},[t._v("disable Shields")]),t._v(" for this website (app.tryethernal.com)."),a("br"),t._v(" If you want to connect to a remote chain, or are not using Brave, you can ignore this message. "),a("div",{staticClass:"text-right"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isUsingBrave=!1}}},[t._v("Dismiss")])])]):t._e(),t.isUsingSafari?a("v-alert",{staticClass:"my-2",attrs:{type:"warning"}},[t._v(" Safari is preventing websites from making CORS requests to localhost. This will prevent you from connecting to a local blockchain. If you want to do so, you'll need to use another browser. If you want to connect to a remote chain, or are not using Safari, you can ignore this message. ")]):t._e(),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.detectNetwork()}}},[t._v("Detect Networks")]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-icon",t._g({attrs:{small:""}},r),[t._v("mdi-help-circle-outline")])]}}])},[t._v(" This will send a RPC request asking for a network ID to 127.0.0.1 on http and ws protocols on commonly used ports (7545, 8545 and 9545)."),a("br"),t._v("The address will be displayed below if the request is successful. ")]),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.detectedNetworks.length,expression:"detectedNetworks.length"}]},t._l(t.detectedNetworks,(function(e,r){return a("li",{key:r},[t._v(" "+t._s(e)+" "),a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.rpcServer=e}}},[t._v("Use")])])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noNetworks,expression:"noNetworks"}]},[t._v(" No networks detected. If you were expecting something, make sure they are running on 7545, 8545 or 9545 and that your browser is not blocking requests to localhost (looking at you Brave & Safari ðŸ‘€!). ")])],1),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.displayLocalNetworkWarning,expression:"displayLocalNetworkWarning"}],staticClass:"my-2",attrs:{type:"warning"}},[t._v(" It looks like you are trying to connect to a server running on your local network."),a("br"),t._v(" If it is not accessible through https, you will need to "),a("a",{attrs:{href:"https://experienceleague.adobe.com/docs/target/using/experiences/vec/troubleshoot-composer/mixed-content.html",target:"_blank"}},[t._v("allow mixed content")]),t._v(" for this domain (app.tryethernal.com) in order for Ethernal to be able to send request to it."),a("br"),t._v(" Another option is to setup a public URL such as "),a("a",{attrs:{href:"https://ngrok.com/",target:"_blank"}},[t._v("ngrok")]),t._v(". "),a("div",{staticClass:"text-right mt-2"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.dismissedLocalWarning=!0}}},[t._v("Dismiss")])])]),a("v-text-field",{staticClass:"mb-2",attrs:{outlined:"",label:"Name*",placeholder:"My Ethereum Project","hide-details":"auto",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{outlined:"",label:"RPC Server*",placeholder:"ws://localhost:8545","hide-details":"auto",required:""},model:{value:t.rpcServer,callback:function(e){t.rpcServer=e},expression:"rpcServer"}}),a("v-switch",{attrs:{disabled:t.loading,label:"Internal/Local Network"},model:{value:t.localNetwork,callback:function(e){t.localNetwork=e},expression:"localNetwork"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:t.loading,color:"primary",disabled:!t.name||!t.rpcServer},on:{click:function(e){return t.createWorkspace(t.name,t.rpcServer)}}},[t._v("Create")])],1)],1)},lt=[],ut=(a("466d"),a("aa9e")),dt={name:"CreateWorkspace",data:function(){return{existingWorkspaces:[],errorMessage:null,loading:!1,name:null,rpcServer:null,showTips:!1,localNetwork:!1,detectedNetworks:[],isUsingBrave:!1,noNetworks:!1,dismissedLocalWarning:!1}},mounted:function(){var t=this;this.isBrave().then((function(e){return t.isUsingBrave=e}))},methods:{isBrave:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t1=navigator.brave,!t.t1){t.next=5;break}return t.next=4,navigator.brave.isBrave();case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=!1;case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),createWorkspace:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,!(this.existingWorkspaces.indexOf(e)>-1)){t.next=4;break}return t.abrupt("return",this.errorMessage="A workspace with this name already exists.");case 4:return t.next=6,this.server.initRpcServer(a,this.localNetwork);case 6:return n=t.sent,t.next=9,this.db.currentUser().collection("workspaces").doc(e).set(Object(r["a"])(Object(r["a"])({},n),{},{localNetwork:this.localNetwork}));case 9:this.$emit("workspaceCreated",{workspace:n,name:e,localNetwork:this.localNetwork}),this.loading=!1,t.next=24;break;case 13:if(t.prev=13,t.t0=t["catch"](0),console.log(t.t0),this.loading=!1,!t.t0.reason){t.next=21;break}if(!(t.t0.reason.indexOf("Invalid JSON RPC response")>-1||t.t0.reason.indexOf("connection not open on send()")>-1)){t.next=20;break}return t.abrupt("return",this.errorMessage="Can't connect to <b>".concat(a,"</b>. Please make sure hostname and ports are correct, and that a server is listening on those. If you still can't connect to a local server, check that your browser is not blocking requests to localhost (for Brave, you need to disable Shields)."));case 20:return t.abrupt("return",this.errorMessage=t.t0.reason);case 21:if(!t.t0.code||1006!=t.t0.code){t.next=23;break}return t.abrupt("return",this.errorMessage="Can't connect to the server");case 23:this.errorMessage=t.t0.message?t.t0.message:t.t0;case 24:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(e,a){return t.apply(this,arguments)}return e}(),detectNetwork:function(){var t=this;this.noNetworks=!1,this.server.searchForLocalChains().then((function(e){t.detectedNetworks=e,e.length||(t.noNetworks=!0)}))},isUrlValid:function(t){try{return new URL(t),!0}catch(e){return!1}}},computed:{isUsingSafari:function(){return navigator.vendor.match(/apple/i)&&!navigator.userAgent.match(/crios/i)&&!navigator.userAgent.match(/fxios/i)},displayLocalNetworkWarning:function(){return this.localNetwork&&this.isUrlValid(this.rpcServer)&&-1==["localhost","127.0.0.1"].indexOf(new URL(this.rpcServer).hostname)&&!this.dismissedLocalWarning}},watch:{rpcServer:function(){try{if(!this.isUrlValid(this.rpcServer))return;var t=new URL(this.rpcServer).hostname,e=["private","linkLocal","loopback","carrierGradeNat","localhost"];this.localNetwork="localhost"==t||ut.isValid(t)&&e.indexOf(ut.parse(t).range())>-1}catch(a){console.log(a)}}}},ht=dt,pt=a("0798"),vt=a("8336"),mt=a("b0af"),ft=a("99d9"),gt=a("132d"),bt=a("b73d"),kt=a("8654"),_t=a("3a2f"),yt=Object(X["a"])(ht,it,lt,!1,null,null,null),wt=yt.exports;tt()(yt,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VIcon:gt["a"],VSpacer:at["a"],VSwitch:bt["a"],VTextField:kt["a"],VTooltip:_t["a"]});var xt={name:"OnboardingModal",components:{CreateWorkspace:wt},data:function(){return{dialog:!1,resolve:null,reject:null,stepperIndex:1,transactions:[]}},methods:{onWorkspaceCreated:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.stepperIndex=2,t.next=3,this.db.getWorkspace(e.name);case 3:a=t.sent,this.db.currentUser().update({currentWorkspace:a}),this.$store.dispatch("updateCurrentWorkspace",Object(r["a"])(Object(r["a"])({},e.workspace),{},{name:e.name,localNetwork:e.localNetwork})).then((function(){return n.$bind("transactions",n.db.collection("transactions"))}));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),goToDashboard:function(){document.location.href="/transactions"},open:function(){var t=this;return this.dialog=!0,new Promise((function(e,a){t.resolve=e,t.reject=a}))}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))},Ct=xt,St=a("169a"),Ot=a("8e36"),At=a("7e85"),Tt=a("e516"),Et=a("56a4"),Vt=Object(X["a"])(Ct,ot,ct,!1,null,null,null),Nt=Vt.exports;tt()(Vt,{VBtn:vt["a"],VCardActions:ft["a"],VDialog:St["a"],VProgressLinear:Ot["a"],VSpacer:at["a"],VStepper:At["a"],VStepperContent:Tt["a"],VStepperStep:Et["a"]});var jt={name:"App",components:{RpcConnector:st,OnboardingModal:Nt},data:function(){return{version:"/",userLoggedIn:null,routerComponent:o["a"].component({template:"<v-container fluid>Loading...</v-container>"}),appBarComponent:o["a"].component({template:"<v-container fluid>Loading...</v-container>"})}},created:function(){var t=this,e=this.$store.subscribe((function(a,r){"SET_USER"==a.type&&null!==r.user&&(t.userLoggedIn=!0,t.db.currentUser().get().then((function(e){var a=e.data();a?a.currentWorkspace?t.loadWorkspace(a.currentWorkspace):t.db.workspaces().get().then((function(e){e.docs.length?(t.db.currentUser().update({currentWorkspace:e.docs[0].ref}),t.loadWorkspace(e.docs[0].ref)):t.launchOnboarding()})):t.db.createUser(_().currentUser.uid).then(t.launchOnboarding)}))),"SET_USER"==a.type&&null==r.user&&(t.routerComponent="router-view",e())}))},methods:{logOut:function(){this.userLoggedIn=!1,_().signOut()},launchOnboarding:function(){var t=this;this.$refs.onboardingModal.open().then((function(e){e&&t.loadWorkspace(e.name)}))},loadWorkspace:function(t){var e=this;t.get().then((function(t){e.$store.dispatch("updateCurrentWorkspace",Object(r["a"])(Object(r["a"])({},t.data()),{},{name:t.id})),e.appBarComponent="rpc-connector",e.routerComponent="router-view"}))}}},Lt=jt,It=a("7496"),Wt=a("40dc"),Pt=a("8860"),Mt=a("da13"),Rt=a("5d23"),Dt=a("34c3"),Ut=a("f6c4"),Bt=a("f774"),$t=Object(X["a"])(Lt,H,K,!1,null,null,null),Ft=$t.exports;tt()($t,{VApp:It["a"],VAppBar:Wt["a"],VIcon:gt["a"],VList:Pt["a"],VListItem:Mt["a"],VListItemContent:Rt["a"],VListItemIcon:Dt["a"],VListItemSubtitle:Rt["b"],VListItemTitle:Rt["c"],VMain:Ut["a"],VNavigationDrawer:Bt["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-data-table",{attrs:{loading:t.loading,items:t.blocks,"sort-by":"number","sort-desc":!0,headers:t.headers},scopedSlots:t._u([{key:"no-data",fn:function(){return[t._v(" No blocks found - "),a("a",{attrs:{href:"https://doc.tryethernal.com/getting-started/cli",target:"_blank"}},[t._v("Did you set up the CLI?")])]},proxy:!0},{key:"item.number",fn:function(e){var r=e.item;return[a("router-link",{attrs:{to:"/block/"+r.number}},[t._v(t._s(r.number))])]}},{key:"item.timestamp",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("moment")(parseInt(a.timestamp),"YYYY-MM-DD h:mm:ss A"))+" ")]}},{key:"item.gasUsed",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.gasUsed.toLocaleString())+" ")]}},{key:"item.transactionNumber",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.transactions.length)+" "+t._s(1!=a.transactions.length?"transactions":"transaction")+" ")]}}])})],1)},Kt=[],qt={name:"Blocks",data:function(){return{blocks:[],headers:[{text:"Block",value:"number"},{text:"Mined On",value:"timestamp"},{text:"Gas Used",value:"gasUsed"},{text:"Transaction Count",value:"transactionNumber"}],loading:!0}},mounted:function(){var t=this;this.$bind("blocks",this.db.collection("blocks").orderBy("number","asc"),{serialize:function(t){return void 0===t.data().transactions?Object.defineProperty(t.data(),"transactions",{value:[]}):t.data()}}).then((function(){return t.loading=!1}))}},Jt=qt,Gt=a("a523"),Yt=a("8fea"),zt=Object(X["a"])(Jt,Ht,Kt,!1,null,null,null),Qt=zt.exports;tt()(zt,{VContainer:Gt["a"],VDataTable:Yt["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h2",[t._v("Block "+t._s(t.block.number))])])],1),a("v-row",{staticClass:"mb-4"},[a("v-col",{attrs:{cols:"2"}},[a("v-subheader",{staticClass:"text-overline"},[t._v("Gas Limit")]),t._v(" "+t._s(t.block.gasLimit.toLocaleString())+" ")],1),a("v-divider",{attrs:{vertical:""}}),a("v-col",{attrs:{cols:"2"}},[a("v-subheader",{staticClass:"text-overline"},[t._v("Mined On")]),t._v(" "+t._s(t._f("moment")(parseInt(t.block.timestamp),"YYYY-MM-DD h:mm:ss A"))+" ")],1),a("v-divider",{attrs:{vertical:""}}),a("v-col",{attrs:{cols:"2"}},[a("v-subheader",{staticClass:"text-overline"},[t._v("Hash")]),t._v(" "+t._s(t.block.hash)+" ")],1)],1),a("h4",[t._v("Transactions")]),a("v-card",{attrs:{outlined:""}},[a("Transactions-List",{attrs:{transactions:t.transactions,loading:t.loadingTx}})],1)],1)},Zt=[],te=a("99e5"),ee=new te,ae=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ether",a=ee.utils.fromWei(t.toString(),e).toLocaleString();return"".concat(a," ").concat(e)},re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{attrs:{loading:t.loading,items:t.transactions,"sort-by":"blockNumber","sort-desc":!0,headers:t.headers,"item-key":"hash"},scopedSlots:t._u([{key:"no-data",fn:function(){return[t._v(" No transactions found - "),a("a",{attrs:{href:"https://doc.tryethernal.com/getting-started/cli",target:"_blank"}},[t._v("Did you set up the CLI?")])]},proxy:!0},{key:"item.hash",fn:function(e){var r=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[r.receipt?a("span",[r.receipt.status?a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{small:"",color:"success lighten-1"}},"v-icon",s,!1),n),[t._v("mdi-check-circle")]):a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{small:"",color:"error lighten-1"}},"v-icon",s,!1),n),[t._v("mdi-alert-circle")])],1):a("span",[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{small:"",color:"grey lighten-1"}},"v-icon",s,!1),n),[t._v("mdi-help-circle")])],1)]}}],null,!0)},[r.receipt?a("div",[r.receipt.status?a("span",[t._v("Succeeded Transaction")]):a("span",[t._v("Failed Transaction")])]):a("span",[t._v("Couldn't retrieve receipt, some info is not available.")])]),a("Hash-Link",{attrs:{type:"transaction",hash:r.hash}})]}},{key:"item.timestamp",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("moment")(parseInt(a.timestamp),"YYYY-MM-DD h:mm:ss A"))+" ")]}},{key:"item.from",fn:function(e){var r=e.item;return[r.from&&r.from===t.currentAddress?a("v-chip",{staticClass:"mr-2",attrs:{"x-small":""}},[t._v("self")]):t._e(),a("Hash-Link",{attrs:{type:"address",hash:r.from}})]}},{key:"item.blockNumber",fn:function(e){var r=e.item;return[a("router-link",{attrs:{to:"/block/"+r.blockNumber}},[t._v(t._s(r.blockNumber))])]}},{key:"item.to",fn:function(e){var r=e.item;return[r.to&&r.to===t.currentAddress?a("v-chip",{staticClass:"mr-2",attrs:{"x-small":""}},[t._v("self")]):t._e(),a("Hash-Link",{attrs:{type:"address",hash:r.to}})]}},{key:"item.value",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("fromWei")(a.value))+" ")]}},{key:"item.fee",fn:function(e){var r=e.item;return[r.receipt?a("span",[t._v(t._s(t._f("fromWei")(r.gasPrice*(r.gas||r.receipt.gasUsed))))]):t._e()]}}])})},ne=[],se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hash?a("router-link",{attrs:{to:t.link()}},[t._v(t._s(t.content()))]):t._e()},oe=[],ce={name:"HashLink",props:["type","hash","fullHash"],methods:{link:function(){return"/".concat([this.type,this.hash].join("/"))},content:function(){return this.fullHash?this.hash:"".concat(this.hash.slice(0,15),"...")}}},ie=ce,le=Object(X["a"])(ie,se,oe,!1,null,null,null),ue=le.exports,de={name:"TransactionsList",props:["transactions","currentAddress","loading"],components:{HashLink:ue},filters:{FromWei:ae},data:function(){return{headers:[{text:"Txn Hash",value:"hash",align:"start"},{text:"Block",value:"blockNumber"},{text:"Mined On",value:"timestamp"},{text:"From",value:"from"},{text:"To",value:"to"},{text:"Value",value:"value"},{text:"Fee",value:"fee"}]}}},he=de,pe=a("cc20"),ve=Object(X["a"])(he,re,ne,!1,null,null,null),me=ve.exports;tt()(ve,{VChip:pe["a"],VDataTable:Yt["a"],VIcon:gt["a"],VTooltip:_t["a"]});var fe={name:"Block",props:["number"],components:{TransactionsList:me},filters:{FromWei:ae},data:function(){return{block:{gasLimit:0},transactions:[],selectedTransaction:{},contract:{abi:{}},loadingTx:!0}},methods:{selectedTransactionChanged:function(t){var e=this;t.to&&this.$bind("contract",this.db.collection("contracts").doc(t.to),this.db.contractSerializer).then((function(){e.selectedTransaction=t}))}},watch:{number:{immediate:!0,handler:function(t){var e=this;this.$bind("block",this.db.collection("blocks").doc(t)),this.$bind("transactions",this.db.collection("transactions").where("blockNumber","==",parseInt(t))).then((function(){return e.loadingTx=!1}))}}}},ge=fe,be=a("62ad"),ke=a("0fd9"),_e=a("e0c7"),ye=Object(X["a"])(ge,Xt,Zt,!1,null,null,null),we=ye.exports;tt()(ye,{VCard:mt["a"],VCol:be["a"],VContainer:Gt["a"],VDivider:et["a"],VRow:ke["a"],VSubheader:_e["a"]});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Transactions-List",{attrs:{transactions:t.transactions,loading:t.loading}})],1)},Ce=[],Se={name:"Transactions",components:{TransactionsList:me},data:function(){return{transactions:[],loading:!0}},mounted:function(){var t=this;this.$bind("transactions",this.db.collection("transactions")).then((function(){return t.loading=!1}))}},Oe=Se,Ae=Object(X["a"])(Oe,xe,Ce,!1,null,null,null),Te=Ae.exports;tt()(Ae,{VContainer:Gt["a"]});var Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Add-Account-Modal",{ref:"addAccountModalRef"}),a("Unlock-Account-Modal",{ref:"openUnlockAccountModalRef"}),a("v-data-table",{attrs:{loading:t.loading,"no-data-text":"No Accounts",items:t.accounts,headers:t.headers},scopedSlots:t._u([{key:"no-data",fn:function(){return[t._v(" No Accounts Available - Try to resync them. ")]},proxy:!0},{key:"item.address",fn:function(e){var r=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[r.unlocked?a("span",[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{small:""}},"v-icon",s,!1),n),[t._v("mdi-lock-open-outline")])],1):t._e()]}}],null,!0)},[a("span",[t._v("Account has been unlocked with private key.")])]),a("Hash-Link",{attrs:{type:"address",hash:r.address}})]}},{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"py-0",attrs:{flat:"",dense:""}},[a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{disabled:t.loading,small:"",depressed:"",color:"primary"},on:{click:function(e){return t.sync()}}},"v-btn",n,!1),r),[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-sync")]),t._v("Resync ")],1)]}}])},[t._v(" This will send a request with the 'eth_accounts' method to the RPC server, and add returned addresses to your accounts list. ")]),a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.openAddAccountModal()}}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-plus")]),t._v("Add Account ")],1)],1)]},proxy:!0},{key:"item.balance",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("fromWei")(a.balance))+" ")]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openUnlockAccountModal(r)}}},[t._v("Set Private Key")])]}}])})],1)},Ve=[],Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"430"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Add Account")]),a("v-card-text",[t.errorMessage?a("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.errorMessage))]):t._e(),t.successMessage?a("v-alert",{attrs:{type:"success"}},[t._v(t._s(t.successMessage))]):t._e(),a("div",[t._v("Enter a private key to add the corresponding account.")]),a("div",[t._v(" Private keys are encrypted server side with AES 256 CBC, and stored encrypted. We strongly recommend to not use accounts with any value. ")]),a("v-text-field",{staticClass:"mt-2",attrs:{"hide-details":"auto",outlined:"",label:"Private Key*",required:""},model:{value:t.privateKey,callback:function(e){t.privateKey=e},expression:"privateKey"}}),a("v-divider",{staticClass:"my-3"}),a("div",[t._v("Or impersonate an account.")]),a("v-text-field",{attrs:{outlined:"",label:"Account Address*",required:""},model:{value:t.accountAddress,callback:function(e){t.accountAddress=e},expression:"accountAddress"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.close()}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.privateKey&&!t.accountAddress},on:{click:function(e){return e.stopPropagation(),t.unlockAccount(t.privateKey,t.accountAddress)}}},[t._v("Add")])],1)],1)],1)},je=[],Le=a("c030"),Ie={name:"AddAccountModal",data:function(){return{dialog:!1,resolve:null,reject:null,privateKey:null,accountAddress:null,errorMessage:null,successMessage:null,loading:!1}},methods:{open:function(){var t=this;return this.dialog=!0,new Promise((function(e,a){t.resolve=e,t.reject=a}))},close:function(){this.resolve(),this.reset()},unlockAccount:function(t,e){var a=this;try{this.loading=!0,this.errorMessage=null,this.successMessage=null;var r,n=[];if(t){var s=new Le.Wallet(t);r=s.address,n.push(this.server.storeAccountPrivateKey(this.currentWorkspace.name,s.address,t))}e&&n.push(this.server.impersonateAccount(this.currentWorkspace.rpcServer,e)),Promise.all(n).then((function(t){console.log(t),r&&G.$emit("syncAccount",r),a.accountAddress&&G.$emit("syncAccount",a.accountAddress),a.successMessage="Account added."})).catch(console.log).finally((function(){return a.loading=!1}))}catch(o){this.loading=!1,"INVALID_ARGUMENT"==o.code?this.errorMessage="Invalid private key.":console.log(o)}},reset:function(){this.privateKey=null,this.dialog=!1,this.resolve=null,this.reject=null,this.address=null,this.loading=!1,this.successMessage=null,this.errorMessage=null}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))},We=Ie,Pe=Object(X["a"])(We,Ne,je,!1,null,null,null),Me=Pe.exports;tt()(Pe,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:ft["c"],VDialog:St["a"],VDivider:et["a"],VSpacer:at["a"],VTextField:kt["a"]});var Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"430"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Unlock Account")]),a("v-card-text",[t.errorMessage?a("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.errorMessage))]):t._e(),t.successMessage?a("v-alert",{attrs:{type:"success"}},[t._v(t._s(t.successMessage))]):t._e(),a("div",[t._v(" Set private key for "),a("b",[t._v(t._s(t.options.address))]),t._v(" in order to use it for methods call. If you've already set one in the past, it will override it. ")]),a("div",[t._v(" Private keys are encrypted server side with AES 256 CBC, and stored encrypted. We strongly recommend to not use accounts with any value. ")]),a("v-text-field",{staticClass:"mt-2",attrs:{outlined:"",label:"Key*",required:""},model:{value:t.privateKey,callback:function(e){t.privateKey=e},expression:"privateKey"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.close()}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.privateKey},on:{click:function(e){return t.unlockAccount(t.options.address,t.privateKey)}}},[t._v("Unlock")])],1)],1)],1)},De=[],Ue=a("c030"),Be={name:"UnlockAccountModal",data:function(){return{dialog:!1,resolve:null,reject:null,options:{},privateKey:null,loading:!1,errorMessage:null,successMessage:null}},methods:{open:function(t){var e=this;return this.dialog=!0,this.options=t,new Promise((function(t,a){e.resolve=t,e.reject=a}))},close:function(){this.resolve(!1),this.reset()},unlockAccount:function(t,e){var a=this;try{this.loading=!0,this.errorMessage=null,this.successMessage=null;var r=new Ue.Wallet(e);if(r.address!=t)throw{code:"WALLET_MISMATCH"};this.server.storeAccountPrivateKey(this.currentWorkspace.name,t,e).then((function(){a.successMessage="Account unlocked."})).catch(console.log).finally((function(){return a.loading=!1}))}catch(n){switch(this.loading=!1,n.code){case"WALLET_MISMATCH":this.errorMessage="Private key doesn't match the address.";break;case"INVALID_ARGUMENT":default:this.errorMessage="Invalid private key."}}},reset:function(){this.dialog=!1,this.resolve=null,this.reject=null,this.options={},this.pkey=null}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))},$e=Be,Fe=Object(X["a"])($e,Re,De,!1,null,null,null),He=Fe.exports;tt()(Fe,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:ft["c"],VDialog:St["a"],VSpacer:at["a"],VTextField:kt["a"]});var Ke={name:"Accounts",components:{HashLink:ue,AddAccountModal:Me,UnlockAccountModal:He},filters:{FromWei:ae},data:function(){return{accounts:[],headers:[{text:"Address",value:"address"},{text:"Balance",value:"balance"},{text:"Actions",value:"actions"}],loading:!1}},mounted:function(){var t=this;this.loading=!0,this.$bind("accounts",this.db.collection("accounts"),{serialize:function(t){return{address:t.id,balance:t.data().balance,unlocked:!!t.data().privateKey}}}).then((function(e){t.loading=!1,e.forEach((function(t){return G.$emit("syncAccount",t.address)}),t)}))},methods:{sync:function(){var t=this;this.loading=!0,this.server.getAccounts().then((function(e){e.forEach((function(t){return G.$emit("syncAccount",t)}),t),t.loading=!1}))},openAddAccountModal:function(){this.$refs.addAccountModalRef.open()},openUnlockAccountModal:function(t){this.$refs.openUnlockAccountModalRef.open({address:t.address})}}},qe=Ke,Je=Object(X["a"])(qe,Ee,Ve,!1,null,null,null),Ge=Je.exports;tt()(Je,{VBtn:vt["a"],VContainer:Gt["a"],VDataTable:Yt["a"],VIcon:gt["a"],VSpacer:at["a"],VToolbar:rt["a"],VTooltip:_t["a"]});var Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.transaction?a("div",[a("h2",{staticClass:"text-truncate mb-2"},[t._v("Tx "+t._s(t.transaction.hash))]),t.transaction.receipt?a("span",[t.transaction.receipt.status?a("v-chip",{staticClass:"success mr-2",attrs:{small:""}},[a("v-icon",{staticClass:"white--text mr-1",attrs:{small:""}},[t._v("mdi-check")]),t._v(" Transaction Succeeded ")],1):a("v-chip",{staticClass:"error",attrs:{small:""}},[a("v-icon",{staticClass:"white--text mr-1",attrs:{small:""}},[t._v("mdi-alert-circle")]),t._v(" Transaction Failed ")],1)],1):a("div",{staticClass:"mb-1"},[t._v(" Couldn't not retrieve receipt for this tx. Status and other information might not be available. You can try to resync the block with "),a("code",[t._v("ethernal sync -f "+t._s(t.block.number)+" -t "+t._s(t.block.number+1))])]),t.transaction.to?t._e():a("v-chip",{attrs:{small:""}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-file")]),t._v(" Contract Creation ")],1),a("v-row",{staticClass:"my-2"},[a("v-col",{staticClass:"text-truncate",attrs:{cols:"5"}},[a("div",{staticClass:"text-overline"},[t._v("From")]),a("Hash-Link",{attrs:{type:"address",hash:t.transaction.from,fullHash:!0}})],1),t.transaction.to?a("v-col",{staticClass:"text-truncate",attrs:{cols:"5"}},[a("div",{staticClass:"text-overline"},[t._v("To")]),a("Hash-Link",{attrs:{type:"address",hash:t.transaction.to,fullHash:!0}})],1):a("v-col",{staticClass:"text-truncate",attrs:{cols:"5"}},[a("div",{staticClass:"text-overline"},[t._v("Contract Created")]),t.transaction.receipt?a("Hash-Link",{attrs:{type:"address",hash:t.transaction.receipt.contractAddress,fullHash:!0}}):a("v-chip",{staticClass:"grey white--text",attrs:{small:""}},[t._v(" Address Not Available ")])],1)],1),a("v-row",{staticClass:"mb-4"},[a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-overline"},[t._v("Gas Used")]),t.transaction.receipt?a("span",[t._v(t._s(parseInt(t.transaction.receipt.gasUsed).toLocaleString()))]):a("v-chip",{staticClass:"grey white--text",attrs:{small:""}},[t._v(" Not Available ")])],1),a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-overline"},[t._v("Gas Price")]),t._v(" "+t._s(t._f("fromWei")(t.transaction.gasPrice,"gwei"))+" ")]),a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-overline"},[t._v("Cost")]),t.transaction.receipt?a("span",[t._v(t._s(t._f("fromWei")(t.transaction.receipt.gasUsed*t.transaction.gasPrice)))]):a("v-chip",{staticClass:"grey white--text",attrs:{small:""}},[t._v(" Not Available ")])],1),a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-overline"},[t._v("Value")]),t._v(" "+t._s(t._f("fromWei")(t.transaction.value))+" ")])],1),a("v-row",{staticClass:"mb-4"},[a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-overline"},[t._v("Block")]),a("router-link",{attrs:{to:"/block/"+t.transaction.blockNumber}},[t._v(t._s(t.transaction.blockNumber))])],1),a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-overline"},[t._v("Gas Limit")]),t._v(" "+t._s(parseInt(t.block.gasLimit).toLocaleString())+" ")])],1),t.transaction.to?a("v-row",{staticClass:"my-2"},[a("v-col",[a("h3",[t._v("Data")]),t.contract&&t.contract.abi?a("div",[a("Transaction-Data",{attrs:{abi:t.contract.abi,transactionHash:t.hash}})],1):a("div",{staticClass:"pa-2 grey lighten-3"},[a("i",[t._v("Couldn't decode data for this transaction. This probably means that you haven't "),a("a",{attrs:{target:"_blank",href:"https://doc.tryethernal.com/dashboard-pages/contracts/interacting-with-the-contract"}},[t._v("synchronized contract metadata")]),t._v(". ")])])])],1):t._e(),t.transaction.trace?a("v-row",{staticClass:"my-2"},[t.transaction.trace.length?a("v-col",[a("h3",{staticClass:"mb-2"},[t._v("Trace")]),t._l(t.transaction.trace,(function(t,e){return a("Trace-Step",{key:e,attrs:{step:t}})}))],2):a("v-col",[a("h3",{staticClass:"mb-2"},[t._v("Trace")]),t._v(" Empty trace (only CREATE(2) and CALLs are shown). ")])],1):t._e()],1):a("div",[a("h2",{staticClass:"text-truncate mb-2"},[t._v("Tx "+t._s(t.hash))]),a("v-row",[a("v-col",[t._v(" Cannot find transaction. If it just happened, it might still be in the mempool. Data will automatically appear when available. ")])],1)],1)])},ze=[],Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{outlined:""}},[t.transactionHash?a("v-card-text",[a("div",{staticClass:"text-right"},[a("router-link",{attrs:{to:"/transaction/"+t.transactionHash}},[t._v(t._s(t.transactionHash.slice(0,15))+"...")]),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("router-link",{attrs:{to:"/block/"+t.transaction.blockNumber}},[t._v(t._s(t.transaction.blockNumber))]),a("v-divider",{staticClass:"ml-2",attrs:{vertical:""}}),a("v-btn",{staticClass:"primary--text",attrs:{icon:"",text:""},on:{click:t.reload}},[a("v-icon",{staticClass:"link",attrs:{small:""}},[t._v("mdi-reload")])],1)],1),a("pre",[t._v(t._s(t.transaction.storage))]),a("Transaction-Function-Call",{staticClass:"my-1",attrs:{jsonInterface:t.jsonInterface,transaction:t.transaction}}),t._l(t.filteredLogs,(function(e,r){return a("Transaction-Event",{key:r,attrs:{jsonInterface:t.jsonInterface,log:e}})}))],2):a("v-card-text",[a("i",[t._v("Select a transaction.")])])],1)},Xe=[],Ze=a("c030"),ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-2 grey lighten-3"},[t.jsonInterface?a("div",[a("div",{staticClass:"mb-2"},[t._v(" Function: "+t._s(t.getSignatureFromFragment(t.parsedTransactionData.functionFragment))+" ")]),t._v(" Params: "),t._l(t.parsedTransactionData.functionFragment.inputs,(function(e,r){return a("div",{key:r},[t._v(" "+t._s(e.name)+": "+t._s(t.parsedTransactionData.args[r])+" ")])}))],2):a("div",[a("i",[t._v("Upload contract artifact "),a("router-link",{attrs:{to:"/address/"+this.transaction.to+"?tab=contract"}},[t._v("here")]),t._v(" to decode function parameters.")],1)])])},ea=[],aa={name:"TransactionFunctionCall",props:["jsonInterface","transaction"],data:function(){return{parsedTransactionData:{functionFragment:{inputs:[]}}}},watch:{jsonInterface:function(t){this.parsedTransactionData=t.parseTransaction({data:this.transaction.data,value:this.transaction.value})}},methods:{getSignatureFromFragment:function(t){if(t.inputs.length)return"".concat(t.name,"(")+t.inputs.map((function(t){return"".concat(t.type," ").concat(t.name)})).join(", ")+")"}}},ra=aa,na=Object(X["a"])(ra,ta,ea,!1,null,null,null),sa=na.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-2 grey lighten-3"},[t.jsonInterface?a("div",[a("div",{staticClass:"mb-2"},[t._v(" Event: "+t._s(t.getSignatureFromFragment(t.parsedLog.eventFragment))+" ")]),t._v(" Data: "),t._l(t.parsedLog.eventFragment.inputs,(function(e,r){return a("div",{key:r},[t._v(" "+t._s(e.name)+": "+t._s(t.parsedLog.args[r])+" ")])}))],2):a("div",[a("i",[t._v("Upload contract artifact "),a("router-link",{attrs:{to:"/address/"+t.log.address+"?tab=contract"}},[t._v("here")]),t._v(" to decode events data.")],1)])])},ca=[],ia={name:"TransactionEvent",props:["jsonInterface","log"],data:function(){return{parsedLog:{eventFragment:{inputs:[]}}}},watch:{jsonInterface:function(t){this.parsedLog=t.parseLog(this.log)}},methods:{getSignatureFromFragment:function(t){return"".concat(t.name,"(")+t.inputs.map((function(t){return"".concat(t.type," ").concat(t.name)})).join(", ")+")"}}},la=ia,ua=Object(X["a"])(la,oa,ca,!1,null,null,null),da=ua.exports,ha={name:"TransactionData",props:["transactionHash","abi"],components:{TransactionFunctionCall:sa,TransactionEvent:da},data:function(){return{keyStorage:0,jsonInterface:null,transaction:{receipt:{}}}},mounted:function(){var t=this;this.$bind("transaction",this.db.collection("transactions").doc(this.transactionHash)).then((function(){t.abi&&(t.jsonInterface=new Ze["ethers"].utils.Interface(t.abi))}))},methods:{reload:function(){this.transaction.blockNumber&&this.$emit("decodeTx",this.transaction)}},computed:{filteredLogs:function(){var t=this;return this.transaction.receipt.logs?this.transaction.receipt.logs.filter((function(e){return e.address==t.transaction.to})):[]}}},pa=ha,va=Object(X["a"])(pa,Qe,Xe,!1,null,null,null),ma=va.exports;tt()(va,{VBtn:vt["a"],VCard:mt["a"],VCardText:ft["b"],VDivider:et["a"],VIcon:gt["a"]});var fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[t.step.depth>1?t._l(new Array(t.step.depth),(function(t,e){return a("v-col",{key:e,attrs:{cols:"1"}})})):t._e(),a("v-col",{key:t.step.depth,staticClass:"pb-0",staticStyle:{"overflow-y":"auto"}},[t._v(" |"),a("br"),t._v(" |--\x3e "),a("v-chip",{staticClass:"primary mr-2",attrs:{small:""}},[t._v(" "+t._s(this.step.op)+" ")]),a("Hash-Link",{attrs:{hash:this.step.address,type:"address"}}),t._v(" "+t._s(this.contractName)+" "),this.transactionDescription?a("div",{staticClass:"ml-2"},[a("small",{staticStyle:{"white-space":"pre"}},[t._v(t._s(t.formattedTransactionDescription))])]):t._e()],1)],2)},ga=[],ba={name:"TraceStep",components:{HashLink:ue},props:["step"],data:function(){return{transactionDescription:null}},methods:{zeroXify:function(t){return t.startsWith("0x")?t:"0x".concat(t)}},watch:{"step.contract.abi":{handler:function(){if(this.step.input){var t=new Ze["ethers"].utils.Interface(this.step.contract.abi);this.transactionDescription=t.parseTransaction({data:this.zeroXify(this.step.input)})}}}},computed:{formattedTransactionDescription:function(){if(!this.transactionDescription)return"";var t=[];t.push("".concat(this.transactionDescription.functionFragment.name,"("));var e,a=[],r=Object(W["a"])(this.transactionDescription.functionFragment.inputs);try{for(r.s();!(e=r.n()).done;){var n=e.value,s=[];s.push(n.type),n.name&&s.push(" ".concat(n.name)),this.transactionDescription.args[n.name]&&s.push(": ".concat(this.transactionDescription.args[n.name])),a.push(s.join(""))}}catch(o){r.e(o)}finally{r.f()}return a.length>1&&t.push("\n\t"),t.push(a.join("\n\t")),a.length>1&&t.push("\n"),t.push(")"),t.join("")},contractName:function(){return this.step.contract.name?"(".concat(this.step.contract.name,")"):""}}},ka=ba,_a=Object(X["a"])(ka,fa,ga,!1,null,null,null),ya=_a.exports;tt()(_a,{VChip:pe["a"],VCol:be["a"],VRow:ke["a"]});var wa={name:"Transaction",props:["hash"],components:{HashLink:ue,TransactionData:ma,TraceStep:ya},filters:{FromWei:ae},data:function(){return{contract:null,transaction:{value:0,gasPrice:0,trace:null,receipt:{gasUsed:0,logs:[]}},jsonInterface:null,parsedLogsData:[],block:{gasLimit:0}}},watch:{hash:{immediate:!0,handler:function(t){this.$bind("transaction",this.db.collection("transactions").doc(t),{wait:!0})}},transaction:function(){this.transaction&&this.transaction.hash&&(this.$bind("block",this.db.collection("blocks").doc(this.transaction.blockNumber.toString()),{wait:!0}),this.transaction.to&&this.$bind("contract",this.db.collection("contracts").doc(this.transaction.to.toLowerCase()),this.db.contractSerializer))}}},xa=wa,Ca=Object(X["a"])(xa,Ye,ze,!1,null,null,null),Sa=Ca.exports;tt()(Ca,{VChip:pe["a"],VCol:be["a"],VContainer:Gt["a"],VIcon:gt["a"],VRow:ke["a"]});var Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"my-4",attrs:{outlined:""}},[a("v-card-text",[t._v(" Balance: "+t._s(t._f("fromWei")(t.balance,"ether"))+" ")])],1)],1)],1),a("v-tabs",{attrs:{optional:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#transactions"}},[t._v("Transactions")]),t.contract&&null!=t.contract.address?a("v-tab",{attrs:{href:"#contract"}},[t._v("Contract")]):t._e(),t.contract&&null!=t.contract.address&&!t.contract.imported?a("v-tab",{attrs:{href:"#storage"}},[t._v("Storage")]):t._e(),a("v-tab-item",{attrs:{value:"transactions"}},[a("Transactions-List",{attrs:{transactions:t.allTransactions,currentAddress:t.hash,loading:t.loadingTx}})],1)],1),a("v-tabs-items",{attrs:{value:t.tab}},[t.contract?a("v-tab-item",{attrs:{value:"contract"}},[a("h4",[t._v("Artifact")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[t.contractLoader?a("v-skeleton-loader",{staticClass:"col-4",attrs:{type:"list-item-three-line"}}):t._e(),t.contractLoader||t.contract.imported?t._e():a("div",[t.contract.artifact?a("v-card-text",[t._v(' Artifact for contract "'),a("b",[t._v(t._s(t.contract.name))]),t._v('" has been uploaded. '),Object.keys(t.contract.dependencies).length?a("div",{staticClass:"mb-1 mt-2"},[a("h5",[t._v("This contract has dependencies:")])]):t._e(),t._l(t.contract.dependencies,(function(e,r,n){return a("div",{key:n,staticClass:"mb-2"},[e.artifact?a("div",[t._v(" Artifact for contract "),a("b",[t._v(t._s(r))]),t._v(" has been uploaded. ")]):a("div",[t._v(" Upload artifact for contract "),a("b",[t._v(t._s(e.name))])])])}))],2):a("v-card-text",[a("Import-Artifact-Modal",{ref:"importArtifactModal"}),a("i",[t._v("Upload an artifact to read contract storage and interact with it.")]),a("br"),t._v(" For Truffle projects, use our "),a("a",{attrs:{href:"https://www.npmjs.com/package/ethernal",target:"_blank"}},[t._v("CLI")]),t._v("."),a("br"),t._v(" For Hardhat project, use our "),a("a",{attrs:{href:"https://github.com/antoinedc/hardhat-ethernal",target:"_blank"}},[t._v("plugin")]),t._v("."),a("br"),t._v(" Or you can manually edit contract metadata (name & ABI) "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.openImportArtifactModal()}}},[t._v("here")]),t._v(". ")],1)],1),!t.contractLoader&&t.contract.imported?a("div",[a("v-card-text",[t._v(" Contract "),a("b",[t._v(t._s(t.contract.name))]),t._v(" has been loaded. ")])],1):t._e()],1),a("h4",[t._v("Call Options")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[t.contractLoader?a("v-skeleton-loader",{staticClass:"col-4",attrs:{type:"list-item-three-line"}}):a("div",[t.contract.abi?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("v-select",{attrs:{outlined:"",dense:"",label:"Select from address","item-text":"id",items:t.accounts},scopedSlots:t._u([{key:"item",fn:function(e){var r=e.item;return[r.privateKey?a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-lock-open-outline")]):t._e(),t._v(" "+t._s(r.id)+" ")]}},{key:"selection",fn:function(e){var r=e.item;return[r.privateKey?a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-lock-open-outline")]):t._e(),t._v(" "+t._s(r.id)+" ")]}}],null,!1,3779079260),model:{value:t.callOptions.from,callback:function(e){t.$set(t.callOptions,"from",e)},expression:"callOptions.from"}}),a("v-text-field",{attrs:{outlined:"",dense:"",type:"number",label:"Gas Price (wei)"},model:{value:t.callOptions.gasPrice,callback:function(e){t.$set(t.callOptions,"gasPrice",e)},expression:"callOptions.gasPrice"}}),a("v-text-field",{attrs:{outlined:"",dense:"",type:"number","hide-details":"auto",label:"Maximum Gas"},model:{value:t.callOptions.gasLimit,callback:function(e){t.$set(t.callOptions,"gasLimit",e)},expression:"callOptions.gasLimit"}})],1)],1)],1):a("v-card-text",[a("i",[t._v("Upload an artifact to call this contract's methods.")])])],1)],1),a("h4",[t._v("Read Methods")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[t.contractLoader?a("v-skeleton-loader",{staticClass:"col-4",attrs:{type:"list-item-three-line"}}):a("div",[t.contract.abi?a("v-card-text",t._l(t.contractReadMethods,(function(e,r){return a("v-row",{key:r,staticClass:"pb-4"},[a("v-col",{attrs:{cols:"5"}},[a("Contract-Read-Method",{attrs:{contract:t.contract,method:e,options:Object.assign({},t.callOptions)}})],1)],1)})),1):a("v-card-text",[a("i",[t._v("Upload an artifact to call this contract's methods.")])])],1)],1),a("h4",[t._v("Write Methods")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[t.contractLoader?a("v-skeleton-loader",{staticClass:"col-4",attrs:{type:"list-item-three-line"}}):a("div",[t.contract.abi?a("v-card-text",t._l(t.contractWriteMethods,(function(e,r){return a("v-row",{key:r,staticClass:"pb-4"},[a("v-col",{attrs:{cols:"5"}},[a("Contract-Write-Method",{attrs:{contract:t.contract,method:e,options:Object.assign({},t.callOptions)}})],1)],1)})),1):a("v-card-text",[a("i",[t._v("Upload an artifact to call this contract's methods.")])])],1)],1)],1):t._e(),t.contract&&!t.contract.imported?a("v-tab-item",{attrs:{value:"storage"}},[a("h4",[t._v("Structure")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[t.storageLoader?a("v-skeleton-loader",{staticClass:"col-4",attrs:{type:"list-item-three-line"}}):t._e(),!t.storage.structure||t.storageLoader||t.storageError?t._e():a("v-card-text",t._l(t.storage.structure.nodes,(function(e,r,n){return a("Storage-Structure",{key:n,attrs:{storage:e},on:{addStorageStructureChild:t.addStorageStructureChild}})})),1),!t.storage.structure&&!t.storageLoader||t.storageError?a("v-card-text",[t.storageError?a("span",[t._v(" Error while loading storage: "),t.storageErrorMessage?a("span",[a("b",[t._v(t._s(t.storageErrorMessage))])]):a("span",[a("b",[t._v("You might have loaded an invalid key (maybe a badly formatted address?).")])]),a("br"),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.resetStorage()}}},[t._v("Click here")]),t._v(" to reset storage. ")]):a("i",[t._v("Upload contract artifact "),a("router-link",{attrs:{to:"/address/"+this.contract.address+"?tab=contract"}},[t._v("here")]),t._v(" to see variables of this contract.")],1)]):t._e()],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("h4",[t._v("Transactions")]),a("Transaction-Picker",{attrs:{transactions:t.transactionsTo},on:{selectedTransactionChanged:t.selectedTransactionChanged}})],1),a("v-col",{attrs:{cols:"9"}},[a("h4",[t._v("Data")]),t.dataLoader?a("v-card",{attrs:{outlined:""}},[a("v-skeleton-loader",{staticClass:"col-5",attrs:{type:"list-item-three-line"}})],1):t._e(),t.dataLoader?t._e():a("Transaction-Data",{key:t.selectedTransaction.hash,attrs:{transactionHash:t.selectedTransaction.hash,abi:t.contract.abi},on:{decodeTx:t.decodeTx}})],1)],1)],1):t._e()],1)],1)},Aa=[],Ta=(a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Add-Tracked-Key-Modal",{ref:"addTrackedKeyModal"}),t._v(" "+t._s(t.storage.label)+" "),null!=t.storage.children?a("v-btn",{attrs:{color:"primary",icon:"",outlined:"","x-small":""},on:{click:function(e){return e.stopPropagation(),t.openAddTrackedKeyModal(t.storage.index)}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e(),t._l(t.storage.children,(function(e,r){return a("Storage-Structure",{key:r,staticClass:"ml-4",attrs:{storage:e},on:{addStorageStructureChild:t.addStorageStructureChild}})}))],2)}),Ea=[],Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"430"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Add key to track")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Key*",required:""},model:{value:t.newKeyToTrack,callback:function(e){t.newKeyToTrack=e},expression:"newKeyToTrack"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return e.stopPropagation(),t.close()}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",disabled:!t.newKeyToTrack,text:""},on:{click:function(e){return e.stopPropagation(),t.addNewKeyToTrack()}}},[t._v("Add")])],1)],1)],1)},Na=[],ja={name:"AddTrackedKeyModal",data:function(){return{dialog:!1,resolve:null,reject:null,newKeyToTrack:null,options:{variableIndex:null}}},methods:{open:function(t){var e=this;return this.options=Object.assign(this.options,t),this.dialog=!0,new Promise((function(t,a){e.resolve=t,e.reject=a}))},close:function(){this.resolve(!1),this.reset()},addNewKeyToTrack:function(){this.resolve({variableIndex:this.options.variableIndex,key:this.newKeyToTrack}),this.reset()},reset:function(){this.dialog=!1,this.resolve=null,this.reject=null,this.newKeyToTrack=null,this.options.variableIndex=null}}},La=ja,Ia=Object(X["a"])(La,Va,Na,!1,null,null,null),Wa=Ia.exports;tt()(Ia,{VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:ft["c"],VDialog:St["a"],VSpacer:at["a"],VTextField:kt["a"]});var Pa={name:"StorageStructure",props:["storage"],components:{AddTrackedKeyModal:Wa},methods:{openAddTrackedKeyModal:function(t){var e=this;this.$refs.addTrackedKeyModal.open({variableIndex:t}).then((function(t){t&&e.addStorageStructureChild(e.storage,t.variableIndex,t.key)}))},addStorageStructureChild:function(t,e,a){this.$emit("addStorageStructureChild",t,e,a)}}},Ma=Pa,Ra=Object(X["a"])(Ma,Ta,Ea,!1,null,null,null),Da=Ra.exports;tt()(Ra,{VBtn:vt["a"],VIcon:gt["a"]});var Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{outlined:""}},[t.transactions.length?a("v-card-text",[a("v-list",{attrs:{"three-line":""}},[a("v-list-item-group",{attrs:{value:t.selectedTransaction,"active-class":"primary--text"},on:{change:t.selectedTransactionChanged}},[t._l(t.transactions,(function(e,r){return[a("v-list-item",{key:e.hash,attrs:{value:e}},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.hash.slice(0,15)+"...")}}),a("v-list-item-subtitle",[t._v(" "+t._s(t._f("moment")(parseInt(e.timestamp),"MM/DD hh:mm:ss"))+" | "+t._s(e.blockNumber)+" ")]),a("v-list-item-subtitle",[t._v(" "+t._s(e.functionSignature)+" ")])],1)],1),r<t.transactions.length-1?a("v-divider",{key:r}):t._e()]}))],2)],1)],1):a("v-card-text",[a("i",[t._v("No transactions here yet.")])])],1)},Ba=[],$a={name:"TransactionPicker",props:["transactions"],data:function(){return{selectedTransaction:{}}},mounted:function(){this.selectedTransaction=this.transactions[0],this.selectedTransactionChanged(this.selectedTransaction)},methods:{selectedTransactionChanged:function(t){this.$emit("selectedTransactionChanged",t||{})}}},Fa=$a,Ha=a("1baa"),Ka=Object(X["a"])(Fa,Ua,Ba,!1,null,null,null),qa=Ka.exports;tt()(Ka,{VCard:mt["a"],VCardText:ft["b"],VDivider:et["a"],VList:Pt["a"],VListItem:Mt["a"],VListItemContent:Rt["a"],VListItemGroup:Ha["a"],VListItemSubtitle:Rt["b"],VListItemTitle:Rt["c"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pb-1 font-weight-bold"},[t._v(t._s(t.method.name))]),t._l(t.method.inputs,(function(e,r){return a("v-text-field",{key:r,staticClass:"py-1",attrs:{outlined:"",dense:"","hide-details":"auto",label:(e.name||"<input>")+"  ("+e.type+")"},model:{value:t.params[r],callback:function(e){t.$set(t.params,r,e)},expression:"params[inputIdx]"}})})),a("div",[t._v("=> "+t._s(t.method.outputs.map((function(t){return t.type})).join(", ")))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.result,expression:"result"}],staticClass:"grey lighten-3 pa-2"},[t._v(t._s(t.result))]),a("v-btn",{staticClass:"mt-1",attrs:{loading:t.loading,depressed:"",color:"primary"},on:{click:function(e){return t.callMethod(t.method)}}},[t._v("Query")])],2)},Ga=[],Ya=a("c030"),za={name:"ContractReadMethod",props:["method","contract","options"],data:function(){return{params:{},result:null,loading:!1}},methods:{callMethod:function(t){var e=this;try{this.loading=!0,this.server.callContractReadMethod(this.contract,t.name,this.options,this.params,this.currentWorkspace.rpcServer).then((function(t){e.result=t.map((function(t){return Ya.BigNumber.isBigNumber(t)?Ya.BigNumber.from(t).toString():t})).join(" | ")})).catch((function(t){e.result=t.reason||t})).finally((function(){e.loading=!1}))}catch(a){console.log(a),a.reason?this.result="Error: ".concat(a.reason.split("(")[0]):this.result="Error while calling the method",this.loading=!1}}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))},Qa=za,Xa=Object(X["a"])(Qa,Ja,Ga,!1,null,null,null),Za=Xa.exports;tt()(Xa,{VBtn:vt["a"],VTextField:kt["a"]});var tr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.method.name))]),t._l(t.method.inputs,(function(e,r){return a("v-text-field",{key:r,staticClass:"py-1",attrs:{outlined:"",dense:"","hide-details":"auto",label:(e.name||"<input>")+"  ("+e.type+")"},model:{value:t.params[r],callback:function(e){t.$set(t.params,r,e)},expression:"params[inputIdx]"}})})),a("div",{directives:[{name:"show",rawName:"v-show",value:t.result.txHash||t.result.message,expression:"result.txHash || result.message"}],staticClass:"grey lighten-3 pa-2 mt-1"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.result.message,expression:"result.message"}]},[t._v(t._s(t.result.message))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.result.txHash,expression:"result.txHash"}]},[t._v(" Tx: "),a("a",{attrs:{href:"/transaction/"+t.result.txHash,target:"_blank"}},[t._v(t._s(t.result.txHash))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.result.txHash&&!t.receipt.status&&!t.noReceipt,expression:"result.txHash && !receipt.status && !noReceipt"}]},[a("v-progress-circular",{staticClass:"mr-2",attrs:{size:"16",width:"2",indeterminate:"",color:"primary"}}),t._v("Waiting for receipt... ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.receipt.status,expression:"receipt.status"}],staticClass:"mt-1"},[t._v(" Status: "+t._s(t.receipt.status?"Succeeded":"Failed")+" "),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:t.receipt.status,expression:"receipt.status"}],staticClass:"mr-2 align-with-text",attrs:{small:"",color:"success lighten-1"}},[t._v("mdi-check-circle")]),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.receipt.status,expression:"!receipt.status"}],staticClass:"mr-2 align-with-text",attrs:{small:"",color:"error lighten-1"}},[t._v("mdi-alert-circle")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noReceipt&&!t.noWaitFunction,expression:"noReceipt && !noWaitFunction"}]},[t._v(" Couldn't get receipt. ")])]),a("v-divider",{staticClass:"my-2"}),t._v(" Eth to send: "),a("div",{staticClass:"col-4 px-0 py-1"},[a("v-text-field",{attrs:{small:"",outlined:"",dense:"",type:"number","hide-details":"auto",label:"Value (in eth)"},model:{value:t.valueInEth,callback:function(e){t.valueInEth=e},expression:"valueInEth"}})],1),a("v-btn",{staticClass:"mt-1",attrs:{loading:t.loading,depressed:"",color:"primary"},on:{click:function(e){return t.sendMethod(t.method)}}},[t._v("Query")])],2)},er=[],ar=(a("b64b"),a("99e5")),rr={name:"ContractWriteMethod",props:["method","contract","options"],data:function(){return{valueInEth:0,params:{},noReceipt:!1,receipt:{},noWaitFunction:!1,result:{txHash:null,message:null},web3:new ar,loading:!1}},methods:{sendMethod:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,n,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,this.receipt={},this.noReceipt=!1,this.result={txHash:null,message:null},t.next=7,this.server.getAccount(this.currentWorkspace.name,this.options.from);case 7:if(a=t.sent.data,n=I(Object(r["a"])(Object(r["a"])({},this.options),{},{value:this.value,privateKey:a.privateKey})),s=this.currentWorkspace.advancedOptions&&"other"==this.currentWorkspace.advancedOptions.tracing,this.options.gasLimit&&!(parseInt(this.options.gasLimit)<1)){t.next=12;break}throw{reason:"You must set a gas limit"};case 12:this.server.callContractWriteMethod(this.contract,e.name,n,this.params,this.currentWorkspace.rpcServer,s).then((function(t){var e=t.pendingTx,a=t.trace;a&&o.server.syncTrace(o.currentWorkspace.name,e.hash,a),"function"===typeof e.wait?e.wait().then((function(t){t?o.receipt=t:o.noReceipt=!0})):(o.noReceipt=!0,o.noWaitFunction=!0),o.result.txHash=e.hash})).catch((function(t){if(t.data)if(t.data.stack)o.result.message=t.data.stack.split("\n")[0];else{var e=Object.keys(t.data)[0];o.result={txHash:e,message:"Error: ".concat(t.data[e].error," (").concat(t.data[e].reason,")")}}else t.message||t.reason?o.result.message=t.message||t.reason:o.result.message="Error while sending the transaction"})).finally((function(){o.loading=!1})),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),t.t0.reason?this.result.message="Error: ".concat(t.t0.reason.split("(")[0]):(console.log(t.t0),this.result.message="Error while sending the transaction."),this.loading=!1;case 19:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["currentWorkspace"])),{},{value:function(){return this.web3.utils.toWei(this.valueInEth.toString(),"ether")}})},nr=rr,sr=a("490a"),or=Object(X["a"])(nr,tr,er,!1,null,null,null),cr=or.exports;tt()(or,{VBtn:vt["a"],VDivider:et["a"],VIcon:gt["a"],VProgressCircular:sr["a"],VTextField:kt["a"]});var ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Update Contract Metadata")]),a("v-card-text",[t.successMessage?a("v-alert",{attrs:{type:"success"},domProps:{innerHTML:t._s(t.successMessage)}}):t._e(),t.errorMessage?a("v-alert",{attrs:{type:"error"},domProps:{innerHTML:t._s(t.errorMessage)}}):t._e(),a("div",{staticClass:"mb-3"},[t._v(" Edit the name and the ABI of this contract to be able to interact with its read/write methods, decode functions calls & events emitted."),a("br"),t._v(" Only the formatting of the ABI is checked, it's up to you to make sure it is valid for the current address. If it's not, calls will fail. ")]),a("div",[a("v-text-field",{staticClass:"mb-3",attrs:{primary:"","hide-details":"auto",outlined:"",dense:"",label:"Contract Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-textarea",{attrs:{primary:"","hide-details":"auto",outlined:"",dense:"",label:"ABI"},model:{value:t.abi,callback:function(e){t.abi=e},expression:"abi"}}),a("v-divider",{staticClass:"my-3"}),t._v(" Or upload a json file containing a "),a("b",[t._v("contractName")]),t._v(" field and/or an "),a("b",[t._v("abi")]),t._v(" field (a Truffle or Hardhat build file for example):"),a("br"),a("input",{ref:"fileUploader",attrs:{type:"file",accept:"application/json"},on:{change:function(e){return t.handleFileUpload()}}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return e.stopPropagation(),t.close()}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",loading:t.loading,text:""},on:{click:function(e){return e.stopPropagation(),t.update()}}},[t._v("Update")])],1)],1)],1)},lr=[],ur=a("c030"),dr={name:"ImportArtifactModal",data:function(){return{dialog:!1,resolve:null,reject:null,successMessage:null,errorMessage:null,loading:!1,abi:null,name:null,address:null,updated:!1}},methods:{open:function(t){var e=this;return this.dialog=!0,this.address=t.address,this.name=t.name,this.abi=t.abi,new Promise((function(t,a){e.resolve=t,e.reject=a}))},handleFileUpload:function(){var t=this,e=this.$refs.fileUploader.files[0];if(e){var a=new FileReader;a.onload=function(a){var r=JSON.parse(a.target.result);r.abi&&(t.abi=r.abi),r.contractName&&(t.name=r.contractName),r.abi||r.contractName||(t.errorMessage="No abi or contractName field found in <b>".concat(e.name,"</b>. Please upload a valid file."))},a.readAsText(e)}},update:function(){var t=this;this.loading=!0,this.successMessage=null,this.errorMessage=null;var e=JSON.parse(this.abi);try{this.abi&&new ur.utils.Interface(e)}catch(a){return this.loading=!1,this.errorMessage="Invalid ABI"}this.server.syncContractData(this.currentWorkspace.name,this.address,this.name,e).then((function(){t.updated=!0,t.successMessage="Metadata updated"})).catch((function(e){return t.errorMessage=e})).finally((function(){return t.loading=!1}))},close:function(){this.resolve(this.updated),this.reset()},reset:function(){this.dialog=!1,this.resolve=null,this.reject=null,this.name=null,this.abi=null,this.address=null,this.successMessage=null,this.errorMessage=null}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))},hr=dr,pr=a("a844"),vr=Object(X["a"])(hr,ir,lr,!1,null,null,null),mr=vr.exports;tt()(vr,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:ft["c"],VDialog:St["a"],VDivider:et["a"],VSpacer:at["a"],VTextField:kt["a"],VTextarea:pr["a"]});var fr=a("c030"),gr={name:"Address",props:["hash"],components:{TransactionsList:me,StorageStructure:Da,TransactionPicker:qa,TransactionData:ma,ContractReadMethod:Za,ContractWriteMethod:cr,ImportArtifactModal:mr},filters:{FromWei:ae},data:function(){return{selectedTransaction:{},balance:0,contract:{dependencies:{},artifact:{abi:[]}},accounts:[],callOptions:{from:null,gasLimit:null,gasPrice:null},storage:{},transactionsFrom:[],transactionsTo:[],storageLoader:!0,dataLoader:!1,contractLoader:!1,storageError:!1,loadingTx:!0}},created:function(){var t=this;this.server.getAccountBalance(this.hash).then((function(e){return t.balance=fr.BigNumber.from(e).toString()})),this.callOptions.from=this.currentWorkspace.settings.defaultAccount,this.callOptions.gasLimit=this.currentWorkspace.settings.gasLimit,this.callOptions.gasPrice=this.currentWorkspace.settings.gasPrice,this.tab||(this.tab="transactions")},methods:{openImportArtifactModal:function(){var t=this;this.$refs.importArtifactModal.open({address:this.hash,name:this.contract.name,abi:JSON.stringify(this.contract.abi)}).then((function(e){return e?t.bindTheStuff(t.hash):null}))},getTransactionDirection:function(t){return this.transactionsFrom.indexOf(t)>-1?"OUT":this.transactionsTo.indexOf(t)>-1?"IN":void 0},selectedTransactionChanged:function(t){this.selectedTransaction=t,this.selectedTransaction.hash&&!this.selectedTransaction.storage&&this.decodeTx(this.selectedTransaction)},decodeTx:function(t){var e=this;this.dataLoader=!0,this.server.decodeData(this.contract,this.currentWorkspace.rpcServer,t.blockNumber).then((function(a){e.db.collection("transactions").doc(t.hash).update({storage:a}).finally((function(){return e.dataLoader=!1}))}))},addStorageStructureChild:function(t,e,a){this.storageLoader=!0,this.contract.watchedPaths.push([].concat(Object(w["a"])(t.path),[a])),this.db.collection("contracts").doc(this.hash).update({watchedPaths:JSON.stringify(this.contract.watchedPaths)}).then(this.decodeContract)},decodeContract:function(){var t=this;if(this.storageError=!1,this.storageErrorMessage="",this.dependenciesNeded())return this.storageLoader=!1;this.server.getStructure(this.contract,this.currentWorkspace.rpcServer).then((function(e){return t.storage=e})).catch((function(e){t.storageError=!0,t.storageErrorMessage=e.reason||e})).finally((function(){return t.storageLoader=!1}))},dependenciesNeded:function(){for(var t in this.contract.dependencies)if(null===this.contract.dependencies[t].artifact)return!0;return!1},resetStorage:function(){var t=this;this.db.collection("contracts").doc(this.hash).update({watchedPaths:JSON.stringify([])}).then((function(){t.contract.watchedPaths=[],t.decodeContract()}))},bindTheStuff:function(t){var e=this;this.$bind("accounts",this.db.collection("accounts"));var a=this.$bind("transactionsFrom",this.db.collection("transactions").where("from","==",t)),n=this.$bind("transactionsTo",this.db.collection("transactions").where("to","==",t).orderBy("blockNumber","desc"));Promise.all([a,n]).then((function(){return e.loadingTx=!1})),this.contractLoader=!0,this.db.collection("contracts").doc(t.toLowerCase()).withConverter({fromFirestore:this.db.contractSerializer}).get().then((function(a){a.exists&&(e.contract=a.data(),e.db.contractStorage(t).once("value",(function(t){if(t.val()){e.contract.artifact=t.val().artifact;var a=t.val().dependencies,n={};a&&Object.entries(a).map((function(t){n[t[0]]={artifact:t[1]}})),e.contract=Object(r["a"])(Object(r["a"])({},e.contract),{},{dependencies:n,watchedPaths:e.contract.watchedPaths}),e.decodeContract()}else e.storageLoader=!1})).finally((function(){return e.contractLoader=!1})))}))}},watch:{hash:{immediate:!0,handler:function(t){this.bindTheStuff(t)}}},computed:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["currentWorkspace"])),{},{tab:{set:function(t){this.$router.replace({query:Object(r["a"])(Object(r["a"])({},this.$route.query),{},{tab:t})})},get:function(){return this.$route.query.tab}},allTransactions:function(){return[].concat(Object(w["a"])(this.transactionsTo),Object(w["a"])(this.transactionsFrom))},contractReadMethods:function(){return this.contract.abi?this.contract.abi.filter((function(t){return"function"==t.type&&"view"==t.stateMutability})):[]},contractWriteMethods:function(){return this.contract.abi?this.contract.abi.filter((function(t){return"function"==t.type&&"view"!=t.stateMutability})):[]}})},br=gr,kr=a("b974"),_r=a("3129"),yr=a("71a34"),wr=a("c671"),xr=a("fe57"),Cr=a("aac8"),Sr=Object(X["a"])(br,Oa,Aa,!1,null,null,null),Or=Sr.exports;tt()(Sr,{VCard:mt["a"],VCardText:ft["b"],VCol:be["a"],VContainer:Gt["a"],VIcon:gt["a"],VRow:ke["a"],VSelect:kr["a"],VSkeletonLoader:_r["a"],VTab:yr["a"],VTabItem:wr["a"],VTabs:xr["a"],VTabsItems:Cr["a"],VTextField:kt["a"]});var Ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"background",attrs:{"fill-height":""}},[a("v-row",{staticClass:"fill-height my-0"},[a("v-col",{staticClass:"fill-height",attrs:{cols:"7"}},[a("v-row",{staticClass:"fill-height",attrs:{align:"center"}},[a("v-col",{staticClass:"text-center"},[a("h1",{staticClass:"logo"},[t._v("Ethernal")]),a("p",[t._v(" Ethernal is a block explorer for private Ethereum blockchains, currently in open Beta. ")]),a("p",[t._v(" If you are new to Ethernal, you should keep the "),a("a",{attrs:{href:"https://doc.tryethernal.com",target:"_blank"}},[t._v("doc")]),t._v(" in a tab nearby! ")])])],1)],1),a("v-col",{staticClass:"primary fill-height",attrs:{cols:"5"}},[a("v-row",{staticClass:"fill-height",attrs:{"align-self":"center",align:"center"}},[a("v-col",[a("div",{attrs:{id:"firebaseui-auth-container"}})])],1)],1)],1)],1)},Tr=[],Er=(a("c9b9"),a("2398")),Vr={name:"Auth",data:function(){return{carousel:0,slides:["Real time transactions","Contract interactions"]}},mounted:function(){var t=new Er.auth.AuthUI(_());t.start("#firebaseui-auth-container",{signInSuccessUrl:"/transactions",signInOptions:[{provider:_.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1}]})}},Nr=Vr,jr=a("a722"),Lr=Object(X["a"])(Nr,Ar,Tr,!1,null,null,null),Ir=Lr.exports;tt()(Lr,{VCol:be["a"],VLayout:jr["a"],VRow:ke["a"]});var Wr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Import-Contract-Modal",{ref:"importContractModal"}),a("v-data-table",{attrs:{loading:t.loading,items:t.contracts,headers:t.headers},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"py-0",attrs:{flat:"",dense:""}},[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.openImportContractModal()}}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-import")]),t._v("Import Contract ")],1)],1)]},proxy:!0},{key:"no-data",fn:function(){return[t._v(" No contracts found - "),a("a",{attrs:{href:"https://doc.tryethernal.com/getting-started/cli",target:"_blank"}},[t._v("Did you set up the CLI?")])]},proxy:!0},{key:"item.address",fn:function(t){var e=t.item;return[a("Hash-Link",{attrs:{type:"address",hash:e.address}})]}}])})],1)},Pr=[],Mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Import a third-party contract")]),a("v-card-text",[t.successMessage?a("v-alert",{attrs:{type:"success"},domProps:{innerHTML:t._s(t.successMessage)}}):t._e(),t.errorMessage?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.errorMessage))]):t._e(),a("div",[t._v(" Enter an address of a contract deployed on the Ethereum mainnet "),a("b",[t._v("and")]),t._v(" verified on Etherscan."),a("br"),t._v(" Then, contract details will be pulled using the Etherscan API, and it will be added to this page."),a("br"),t._v(" To be able to use it, your workspace needs to be connected to a mainnet fork."),a("br"),t._v(" If it is not, the contract will still be imported but calls will fail."),a("br"),t._v(" If you'd like support for other chains, please contact @antoinedc on Discord."),a("br")]),a("v-text-field",{attrs:{label:"Address*",required:""},model:{value:t.contractAddress,callback:function(e){t.contractAddress=e},expression:"contractAddress"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return e.stopPropagation(),t.close()}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.contractAddress,text:""},on:{click:function(e){return e.stopPropagation(),t.importContract()}}},[t._v("Import")])],1)],1)],1)},Rr=[],Dr=a("bc3a"),Ur=Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_ETHERSCAN_API_KEY,Br="https://api.etherscan.io/api?module=contract&action=getsourcecode",$r={name:"ImportContractModal",data:function(){return{dialog:!1,resolve:null,reject:null,contractAddress:null,contract:null,successMessage:null,errorMessage:null,loading:!1}},methods:{open:function(){var t=this;return this.dialog=!0,new Promise((function(e,a){t.resolve=e,t.reject=a}))},close:function(){this.resolve(!1),this.reset()},importContract:function(){var t=this;this.successMessage=null,this.errorMessage=null,this.loading=!0;var e="".concat(Br,"&address=").concat(this.contractAddress,"&apikey=").concat(Ur);Dr.get(e).then((function(e){var a=e.data;return"NOTOK"==a.message?(t.loading=!1,t.errorMessage=a.result):""==a.result[0].ContractName?(t.errorMessage="Couldn't find contract on Etherscan, make sure the address is correct and that the contract has been verified.",void(t.loading=!1)):void t.server.importContract(t.currentWorkspace.name,a.result[0].ABI,t.contractAddress,a.result[0].ContractName).then((function(){return t.successMessage='Contact imported successfully at address <a class="white--text" href="/address/'.concat(t.contractAddress,'">').concat(t.contractAddress,"</a>")})).catch((function(e){return t.errorMessage=e.message})).finally((function(){return t.loading=!1}))})).catch((function(e){console.log(e),t.loading=!1}))},reset:function(){this.dialog=!1,this.resolve=null,this.reject=null}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))},Fr=$r,Hr=Object(X["a"])(Fr,Mr,Rr,!1,null,null,null),Kr=Hr.exports;tt()(Hr,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:ft["c"],VDialog:St["a"],VSpacer:at["a"],VTextField:kt["a"]});var qr={name:"Contracts",components:{HashLink:ue,ImportContractModal:Kr},filters:{FromWei:ae},data:function(){return{loading:!0,contracts:[],headers:[{text:"Address",value:"address"},{text:"Name",value:"name"}]}},mounted:function(){var t=this;this.$bind("contracts",this.db.collection("contracts"),{serialize:function(t){return Object.defineProperty(t.data(),"address",{value:t.id})}}).then((function(){return t.loading=!1}))},methods:{openImportContractModal:function(){this.$refs.importContractModal.open()}}},Jr=qr,Gr=Object(X["a"])(Jr,Wr,Pr,!1,null,null,null),Yr=Gr.exports;tt()(Gr,{VBtn:vt["a"],VContainer:Gt["a"],VDataTable:Yt["a"],VIcon:gt["a"],VSpacer:at["a"],VToolbar:rt["a"]});var zr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{lg:"5"}},[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.updateSuccess,expression:"updateSuccess"}],attrs:{dense:"",text:"",type:"success"}},[t._v("Settings updated")]),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.updateError,expression:"updateError"}],attrs:{dense:"",text:"",type:"error"}},[t._v("Error while updating settings")]),a("h4",[t._v("Server")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[a("v-card-text",[a("v-text-field",{attrs:{outlined:"",disabled:"","hide-details":"auto",label:"RPC Server"},model:{value:t.currentWorkspace.rpcServer,callback:function(e){t.$set(t.currentWorkspace,"rpcServer",e)},expression:"currentWorkspace.rpcServer"}}),t._v(" To use another server, create another workspace. ")],1)],1),a("h4",[t._v("Default Contracts Call Options")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[t.optionsLoader?a("v-skeleton-loader",{attrs:{type:"list-item-three-line"}}):a("v-card-text",[a("v-select",{attrs:{outlined:"",label:"Default From Account","hide-details":"auto","item-text":"id",items:t.accounts},scopedSlots:t._u([{key:"item",fn:function(e){var r=e.item;return[r.privateKey?a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-lock-open-outline")]):t._e(),t._v(" "+t._s(r.id)+" ")]}},{key:"selection",fn:function(e){var r=e.item;return[r.privateKey?a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-lock-open-outline")]):t._e(),t._v(" "+t._s(r.id)+" ")]}}]),model:{value:t.settings.defaultAccount,callback:function(e){t.$set(t.settings,"defaultAccount",e)},expression:"settings.defaultAccount"}}),a("v-text-field",{staticClass:"mt-4",attrs:{outlined:"","hide-details":"auto",label:"Default Gas Price (wei)"},model:{value:t.settings.gasPrice,callback:function(e){t.$set(t.settings,"gasPrice",e)},expression:"settings.gasPrice"}}),a("v-text-field",{staticClass:"mt-4",attrs:{outlined:"","hide-details":"auto",label:"Default Maximum Gas"},model:{value:t.settings.gasLimit,callback:function(e){t.$set(t.settings,"gasLimit",e)},expression:"settings.gasLimit"}}),a("v-row",{staticClass:"mt-2 pb-1 mr-2"},[a("v-spacer"),a("v-btn",{staticClass:"mt-1",attrs:{loading:t.loading,depressed:"",color:"primary"},on:{click:function(e){return t.update()}}},[t._v("Update")])],1)],1)],1),a("Alchemy-Integration-Modal",{ref:"alchemyIntegrationModal"}),a("h4",[t._v("Integrations")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[a("v-card-text",[a("v-data-table",{attrs:{"hide-default-header":!0,"hide-default-footer":!0,items:t.integrations.items,headers:t.integrations.headers},scopedSlots:t._u([{key:"item.status",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.isIntegrationEnabled(a.slug)?"Enabled":"Disabled")+" ")]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.callFunction(r.action)}}},[t._v("Manage")])]}}])}),a("h4",[t._v("Each workspace has separate integration settings.")])],1)],1),a("Create-Workspace-Modal",{ref:"createWorkspaceModal"}),a("h4",[t._v("Workspaces")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[a("v-card-text",[a("v-data-table",{attrs:{loading:t.loadingWorkspaces,"no-data-text":"No workspaces",items:t.workspaces,headers:t.workspacesDataTableHeaders},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"py-0",attrs:{flat:"",dense:""}},[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.openCreateWorkspaceModal()}}},[a("v-icon",[t._v("mdi-plus")]),t._v("New Workspace")],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var r=e.item;return[a("v-icon",{on:{click:function(e){return t.switchWorkspace(r.id)}}},[t._v("mdi-swap-horizontal")])]}}])})],1)],1),a("h4",[t._v("Advanced Options")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[t.advancedOptionsLoading?a("v-skeleton-loader",{attrs:{type:"list-item-three-line"}}):a("v-card-text",[a("v-row",[a("v-col",{attrs:{"align-self":"center"}},[t._v(" Transactions Tracing "),a("a",{staticStyle:{"text-decoration":"none"},attrs:{target:"_blank",href:"https://doc.tryethernal.com/dashboard-pages/transactions#trace"}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-help-circle-outline")])],1)]),a("v-col",[a("v-select",{attrs:{dense:"",outlined:"","hide-details":"auto",label:"Status",items:t.advancedOptionsDesc[0].choices,"item-text":"label","item-value":"slug"},model:{value:t.advancedOptions.tracing,callback:function(e){t.$set(t.advancedOptions,"tracing",e)},expression:"advancedOptions.tracing"}})],1)],1),a("v-row",{staticClass:"mt-2 pb-1 mr-1"},[a("v-spacer"),a("v-btn",{staticClass:"mt-2",attrs:{loading:t.advancedOptionsLoading,depressed:"",color:"primary"},on:{click:function(e){return t.updateAdvancedOptions()}}},[t._v("Update")])],1)],1)],1),a("h4",{staticClass:"error--text"},[t._v("Danger Zone")]),a("v-sheet",{staticClass:"pa-0 error",attrs:{outlined:"",rounded:""}},[a("v-card",{staticClass:"elevation-0"},[a("v-card-text",{staticClass:"font-weight-medium error--text"},[a("v-row",[t._v(" Resetting this workspace will remove all accounts/transactions/blocks/contracts from your dashboard. You will need to resync them. This cannot be undone. ")]),a("v-row",{staticClass:"mt-2 pb-1"},[a("v-spacer"),a("v-btn",{staticClass:"mt-2",attrs:{loading:t.resetWorkspaceLoading,depressed:"",color:"error"},on:{click:function(e){return t.resetWorkspace()}}},[a("v-icon",[t._v("mdi-sync")]),t._v("Reset Workspace")],1)],1)],1)],1)],1)],1)],1)],1)},Qr=[],Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("New Workspace")]),a("v-card-text",[a("div",{staticClass:"mb-2"},[t.isUsingBrave?a("v-alert",{staticClass:"my-2",attrs:{type:"warning"}},[t._v(" By default, Brave is preventing websites from making requests to localhost. This will prevent you from connecting to a local blockchain. If you want to do so, you'll need to "),a("a",{attrs:{href:"https://support.brave.com/hc/en-us/articles/360023646212-How-do-I-configure-global-and-site-specific-Shields-settings-",target:"_blank"}},[t._v("disable Shields")]),t._v(" for this website (app.tryethernal.com)."),a("br"),t._v(" If you want to connect to a remote chain, or are not using Brave, you can ignore this message. "),a("div",{staticClass:"text-right"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isUsingBrave=!1}}},[t._v("Dismiss")])])]):t._e(),t.isUsingSafari?a("v-alert",{staticClass:"my-2",attrs:{type:"warning"}},[t._v(" Safari is preventing websites from making CORS requests to localhost. This will prevent you from connecting to a local blockchain. If you want to do so, you'll need to use another browser. If you want to connect to a remote chain, or are not using Safari, you can ignore this message. ")]):t._e(),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.detectNetwork()}}},[t._v("Detect Networks")]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-icon",t._g({attrs:{small:""}},r),[t._v("mdi-help-circle-outline")])]}}])},[t._v(" This will send a RPC request asking for a network ID to 127.0.0.1 on http and ws protocols on commonly used ports (7545, 8545 and 9545)."),a("br"),t._v("The address will be displayed below if the request is successful. ")]),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.detectedNetworks.length,expression:"detectedNetworks.length"}]},t._l(t.detectedNetworks,(function(e,r){return a("li",{key:r},[t._v(" "+t._s(e)+" "),a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.rpcServer=e}}},[t._v("Use")])])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noNetworks,expression:"noNetworks"}]},[t._v(" No networks detected. If you were expecting something, make sure they are running on 7545, 8545 or 9545 and that your browser is not blocking requests to localhost (looking at you Brave & Safari ðŸ‘€!). ")])],1),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],attrs:{dense:"",text:"",type:"error"},domProps:{innerHTML:t._s(t.errorMessage)}}),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.displayLocalNetworkWarning,expression:"displayLocalNetworkWarning"}],staticClass:"my-2",attrs:{type:"warning"}},[t._v(" It looks like you are trying to connect to a server running on your local network."),a("br"),t._v(" If it is not accessible through https, you will need to "),a("a",{attrs:{href:"https://experienceleague.adobe.com/docs/target/using/experiences/vec/troubleshoot-composer/mixed-content.html",target:"_blank"}},[t._v("allow mixed content")]),t._v(" for this domain (app.tryethernal.com) in order for Ethernal to be able to send request to it."),a("br"),t._v(" Another option is to setup a public URL such as "),a("a",{attrs:{href:"https://ngrok.com/",target:"_blank"}},[t._v("ngrok")]),t._v(". "),a("div",{staticClass:"text-right"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.dismissedLocalWarning=!0}}},[t._v("Dismiss")])])]),a("v-text-field",{staticClass:"mb-2",attrs:{outlined:"",label:"Name*","hide-details":"auto",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{outlined:"",label:"RPC Server*","hide-details":"auto",required:""},model:{value:t.rpcServer,callback:function(e){t.rpcServer=e},expression:"rpcServer"}}),a("v-switch",{attrs:{"hide-details":"auto",disabled:t.loading,label:"Local Network"},model:{value:t.localNetwork,callback:function(e){t.localNetwork=e},expression:"localNetwork"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.close()}}},[t._v("Close")]),a("v-btn",{attrs:{loading:t.loading,color:"primary",disabled:!t.name||!t.rpcServer,text:""},on:{click:function(e){return e.stopPropagation(),t.createWorkspace(t.name,t.rpcServer)}}},[t._v("Create")])],1)],1)],1)},Zr=[],tn=a("aa9e"),en={name:"CreateWorkspaceModal",data:function(){return{existingWorkspaces:[],errorMessage:null,loading:!1,name:null,rpcServer:null,dialog:!1,resolve:null,reject:null,localNetwork:!1,detectedNetworks:[],noNetworks:!1,isUsingBrave:!1,dismissedLocalWarning:!1}},mounted:function(){var t=this;this.isBrave().then((function(e){return t.isUsingBrave=e}))},methods:{isBrave:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t1=navigator.brave,!t.t1){t.next=5;break}return t.next=4,navigator.brave.isBrave();case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=!1;case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),open:function(t){var e=this;return this.existingWorkspaces=t.workspaces,this.dialog=!0,new Promise((function(t,a){e.resolve=t,e.reject=a}))},close:function(){this.resolve(),this.reset()},createWorkspace:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,a){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,this.server.initRpcServer(a,this.localNetwork);case 4:return n=t.sent,t.next=7,this.db.currentUser().collection("workspaces").doc(e).set(Object(r["a"])(Object(r["a"])({},n),{},{localNetwork:this.localNetwork}));case 7:return t.next=9,this.db.getWorkspace(e);case 9:s=t.sent,this.db.currentUser().update({currentWorkspace:s}),this.$store.dispatch("updateCurrentWorkspace",Object(r["a"])(Object(r["a"])({},n),{},{name:e,localNetwork:this.localNetwork})),this.resolve(e),this.reset(),t.next=26;break;case 16:if(t.prev=16,t.t0=t["catch"](0),this.loading=!1,!t.t0.reason){t.next=23;break}if(!(t.t0.reason.indexOf("Invalid JSON RPC response")>-1||t.t0.reason.indexOf("connection not open on send()")>-1)){t.next=22;break}return t.abrupt("return",this.errorMessage="Can't connect to <b>".concat(a,"</b>. Please make sure hostname and ports are correct, and that a server is listening on those. If you still can't connect to a local server, check that your browser is not blocking requests to localhost (for Brave, you need to disable Shields)."));case 22:return t.abrupt("return",this.errorMessage=t.t0.reason);case 23:if(!t.t0.code||1006!=t.t0.code){t.next=25;break}return t.abrupt("return",this.errorMessage="Can't connect to the server");case 25:this.errorMessage=t.t0.message?t.t0.message:t.t0;case 26:case"end":return t.stop()}}),t,this,[[0,16]])})));function e(e,a){return t.apply(this,arguments)}return e}(),reset:function(){this.loading=!1,this.dialog=!1,this.resolve=null,this.reject=null,this.address=null,this.localNetwork=!1,this.noNetworks=!1,this.dismissedLocalWarning=!1},detectNetwork:function(){var t=this;this.noNetworks=!1,this.server.searchForLocalChains().then((function(e){t.detectedNetworks=e,e.length||(t.noNetworks=!0)}))},isUrlValid:function(t){try{return new URL(t),!0}catch(e){return!1}}},computed:{isUsingSafari:function(){return navigator.vendor.match(/apple/i)&&!navigator.userAgent.match(/crios/i)&&!navigator.userAgent.match(/fxios/i)},displayLocalNetworkWarning:function(){return this.localNetwork&&this.isUrlValid(this.rpcServer)&&"localhost"!=new URL(this.rpcServer).hostname&&!this.dismissedLocalWarning}},watch:{rpcServer:function(){try{if(!this.isUrlValid(this.rpcServer))return;var t=new URL(this.rpcServer).hostname,e=["private","linkLocal","loopback","carrierGradeNat","localhost"];this.localNetwork="localhost"==t||tn.isValid(t)&&e.indexOf(tn.parse(t).range())>-1}catch(a){console.log(a)}}}},an=en,rn=Object(X["a"])(an,Xr,Zr,!1,null,null,null),nn=rn.exports;tt()(rn,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:ft["c"],VDialog:St["a"],VIcon:gt["a"],VSpacer:at["a"],VSwitch:bt["a"],VTextField:kt["a"],VTooltip:_t["a"]});var sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"700",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Manage Alchemy Integration")]),a("v-card-text",[t._v(' When enabled, this integration will give you a webhook that you should add in your Alchemy dashboard, in the Notify section, under "Mined Transactions Notifications". Once this is done, all transactions going through the selected Alchemy app will be synchronized with Ethernal, letting you used all of the features on your dapp! '),a("v-divider"),t.canUseIntegration()?a("div",[a("v-switch",{attrs:{disabled:t.loading,loading:t.loading,label:t.token?"Enabled":"Disabled"},on:{change:t.toggleSwitch},model:{value:t.enabled,callback:function(e){t.enabled=e},expression:"enabled"}}),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],attrs:{"append-icon":"mdi-content-copy",readonly:"",outlined:"",dense:"","hide-details":"auto",value:t.formattedWebhook},on:{"click:append":function(e){return t.copyWebhook()}}}),a("input",{attrs:{type:"hidden",id:"copyElement"},domProps:{value:t.formattedWebhook}})],1):a("div",{staticClass:"mt-1"},[a("v-alert",{attrs:{type:"warning"}},[t._v("This integration can only be used with a workspace connected to an Alchemy endpoint. Create a new workspace connected to your Alchemy app to use it")])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:t.loading,text:""},on:{click:function(e){return t.close()}}},[t._v("Close")])],1)],1)],1)},on=[],cn=Object({NODE_ENV:"production",VUE_APP_VERSION:"/",BASE_URL:"/"}).VUE_APP_API_ROOT_URL,ln={name:"AlchemyIntegrationModal",data:function(){return{dialog:!1,resolve:null,reject:null,loading:!1,enabled:!1,token:null,options:{}}},methods:{canUseIntegration:function(){var t=new URL(this.currentWorkspace.rpcServer);return t.host.indexOf("alchemyapi.io")>-1},copyWebhook:function(){var t=document.querySelector("#copyElement");t.setAttribute("type","text"),t.select();try{var e=document.execCommand("copy"),a=e?"Webhook copied!":"Couldn't copy webhook";alert(a)}catch(r){alert("Couldn't copy webhook")}finally{t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}},open:function(t){var e=this;return this.options=t||{},this.enabled=!!t.enabled,this.enabled&&(this.loading=!0,this.server.getWebhookToken(this.currentWorkspace.name).then((function(t){var a=t.data;return e.token=a.token})).finally((function(){return e.loading=!1}))),this.dialog=!0,new Promise((function(t,a){e.resolve=t,e.reject=a}))},close:function(){this.resolve(!1),this.reset()},reset:function(){this.options={},this.loading=!1,this.dialog=!1,this.resolve=null,this.reject=null},toggleSwitch:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loading=!0,e?this.server.enableAlchemyWebhook(this.currentWorkspace.name).then((function(t){var e=t.data;return a.token=e.token})).finally((function(){return a.loading=!1})):this.server.disableAlchemyWebhook(this.currentWorkspace.name).then((function(){return a.token=null})).finally((function(){return a.loading=!1}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["currentWorkspace"])),{},{formattedWebhook:function(){return"".concat(cn,"/webhooks/alchemy?token=").concat(this.token)}})},un=ln,dn=Object(X["a"])(un,sn,on,!1,null,null,null),hn=dn.exports;tt()(dn,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:ft["c"],VDialog:St["a"],VDivider:et["a"],VSpacer:at["a"],VSwitch:bt["a"],VTextField:kt["a"]});var pn={name:"Settings",components:{CreateWorkspaceModal:nn,AlchemyIntegrationModal:hn},data:function(){return{advancedOptionsDesc:[{slug:"tracing",choices:[{label:"Disabled",slug:"disabled"},{label:"Trace on a Hardhat network",slug:"hardhat"},{label:"Trace on a non-Hardhat network",slug:"other"}]}],integrations:{headers:[{text:"",value:"name"},{text:"",value:"status"},{text:"",value:"actions",align:"right"}],items:[{name:"Alchemy API",slug:"alchemy",action:"openAlchemyIntegrationModal"}]},workspacesDataTableHeaders:[{text:"Name",value:"id"},{text:"RPC Server",value:"rpcServer"},{text:"",value:"actions"}],settings:{},advancedOptions:{},workspaces:[],accounts:[],loading:!1,updateSuccess:!1,updateError:!1,optionsLoader:!0,loadingWorkspaces:!0,resetWorkspaceLoading:!1,advancedOptionsLoading:!0}},mounted:function(){var t=this;this.$bind("workspaces",this.db.workspaces()).then((function(){return t.loadingWorkspaces=!1})),this.$bind("settings",this.db.settings()).finally((function(){return t.optionsLoader=!1})),this.$bind("advancedOptions",this.db.advancedOptions()).finally((function(){return t.advancedOptionsLoading=!1})),this.$bind("accounts",this.db.collection("accounts"))},methods:{updateAdvancedOptions:function(){var t=this;this.advancedOptionsLoading=!0,this.updateSuccess=!1,this.updateError=!1,this.db.settings().update({advancedOptions:Object.fromEntries(Object.entries(this.advancedOptions).filter((function(t){var e=Object(L["a"])(t,2),a=e[1];return null!=a})))}).then((function(){t.updateSuccess=!0,t.currentWorkspace.advancedOptions=t.advancedOptions,t.$store.dispatch("updateCurrentWorkspace",t.currentWorkspace)})).catch((function(){return t.updateError=!0})).finally((function(){return t.advancedOptionsLoading=!1}))},update:function(){var t=this;this.loading=!0,this.updateSuccess=!1,this.updateError=!1,this.db.settings().update({settings:Object.fromEntries(Object.entries(this.settings).filter((function(t){var e=Object(L["a"])(t,2),a=e[1];return null!=a})))}).then((function(){t.updateSuccess=!0,t.currentWorkspace.settings=t.settings,t.$store.dispatch("updateCurrentWorkspace",t.currentWorkspace)})).catch((function(){return t.updateError=!0})).finally((function(){return t.loading=!1}))},openCreateWorkspaceModal:function(){var t=this;this.$refs.createWorkspaceModal.open({workspaces:this.workspaces.map((function(t){return t.id}))}).then((function(e){e&&t.switchWorkspace(e)}))},callFunction:function(t){this[t]()},openAlchemyIntegrationModal:function(){this.$refs.alchemyIntegrationModal.open({enabled:this.isIntegrationEnabled("alchemy")})},switchWorkspace:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.db.getWorkspace(e);case 2:return a=t.sent,t.next=5,this.db.currentUser().update({currentWorkspace:a});case 5:document.location.reload();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),isIntegrationEnabled:function(t){return!!this.currentWorkspace.settings.integrations&&this.currentWorkspace.settings.integrations.indexOf(t)>-1},resetWorkspace:function(){var t=this;confirm("Are you sure you want to reset the workspace ".concat(this.currentWorkspace.name,"? This action is definitive."))&&(this.resetWorkspaceLoading=!0,this.db.functions.httpsCallable("resetWorkspace")({workspace:this.currentWorkspace.name}).then((function(){alert("Workspace reset finished!")})).catch((function(t){alert("Error while resetting the workspace, please retry"),console.log(t)})).finally((function(){return t.resetWorkspaceLoading=!1})))}},computed:Object(r["a"])({},Object(i["b"])(["currentWorkspace"]))},vn=pn,mn=a("8dd9"),fn=Object(X["a"])(vn,zr,Qr,!1,null,null,null),gn=fn.exports;tt()(fn,{VAlert:pt["a"],VBtn:vt["a"],VCard:mt["a"],VCardText:ft["b"],VCol:be["a"],VContainer:Gt["a"],VDataTable:Yt["a"],VIcon:gt["a"],VRow:ke["a"],VSelect:kr["a"],VSheet:mn["a"],VSkeletonLoader:_r["a"],VSpacer:at["a"],VTextField:kt["a"],VToolbar:rt["a"]}),o["a"].config.productionTip=!1,o["a"].use(c["a"]),o["a"].use(i["a"]),o["a"].use(F["a"]),o["a"].use(a("2ead"));var bn=function(t,e,a){_().currentUser?a({path:"/transactions"}):a()},kn=function(t,e,a){_().currentUser?a():a({path:"/auth",query:Object(r["a"])({next:document.location.pathname},t.query)})},_n=[{path:"/auth",component:Ir,beforeEnter:bn},{path:"/blocks",component:Qt,beforeEnter:kn},{path:"/block/:number",component:we,props:!0,beforeEnter:kn},{path:"/transactions",component:Te,beforeEnter:kn},{path:"/accounts",component:Ge,beforeEnter:kn},{path:"/transaction/:hash",component:Sa,props:!0,beforeEnter:kn},{path:"/address/:hash",component:Or,props:!0,beforeEnter:kn},{path:"/contracts",component:Yr,props:!0,beforeEnter:kn},{path:"/settings",component:gn,props:!0,beforeEnter:kn},{path:"*",redirect:"/transactions"}],yn=new c["a"]({mode:"history",routes:_n}),wn=new i["a"].Store({state:{user:null,currentBlock:null,currentWorkspace:{networkId:null,rpcServer:null,localNetwork:!0,name:null,settings:{defaultAccount:null,gasPrice:null,gas:null}},connected:!1},mutations:{SET_USER:function(t,e){t.user=e},SET_CURRENT_BLOCK:function(t,e){t.currentBlock=e},SET_CURRENT_WORKSPACE:function(t,e){t.currentWorkspace=e},SET_CONNECTED:function(t,e){t.connected=e}},actions:{updateUser:function(t,e){var a=t.commit;a("SET_USER",e?{uid:e.uid,email:e.email,loggedIn:!0}:null)},updateCurrentBlock:function(t,e){var a=t.commit;a("SET_CURRENT_BLOCK",e)},updateCurrentWorkspace:function(t,e){var a=t.commit;a("SET_CURRENT_WORKSPACE",e)},updateConnected:function(t,e){var a=t.commit;a("SET_CONNECTED",e)}},getters:{user:function(t){return t.user},currentBlock:function(t){return t.currentBlock},currentWorkspace:function(t){return t.currentWorkspace},connected:function(t){return t.connected}}});o["a"].use(k,{store:wn}),o["a"].use($,{store:wn}),new o["a"]({vuetify:u,router:yn,store:wn,mounted:function(){s.a.init("lqunne/ethernal"),_().onAuthStateChanged(this.authStateChanged)},methods:{authStateChanged:function(t){t&&s.a.identify(t.uid,{email:t.email});var e=this.$router.currentRoute.path;if(wn.dispatch("updateUser",t),"/auth"!=e&&!t)return this.$router.push("/auth");if("/auth"==e&&t){var a=Object(r["a"])({},this.$route.query);return delete a.next,this.$router.push({path:this.$route.query.next||"/transactions",query:a})}}},render:function(t){return t(Ft)}}).$mount("#app")},6:function(t,e){},7:function(t,e){},8:function(t,e){},9:function(t,e){},c9952:function(t,e){t.exports={}}});
//# sourceMappingURL=app.598599c9.js.map